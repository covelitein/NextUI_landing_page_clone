!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FeaturebaseSDK",[],t):"object"==typeof exports?exports.FeaturebaseSDK=t():e.FeaturebaseSDK=t()}(this,(()=>(()=>{var e,t,n={457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81),r=n.n(i),a=n(645),s=n.n(a)()(r());s.push([e.id,"@keyframes slideDown {\r\n  0% {\r\n    max-height: 100px;\r\n    opacity: 0.4;\r\n  }\r\n  100% {\r\n    max-height: auto;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.fb-changelog-popup {\r\n  animation: slideDown 0.3s ease;\r\n  z-index: 2147483647;\r\n  overflow: hidden;\r\n}\r\n\r\n.fb-changelog-popup-wrapper {\r\n  transition: height 0.24s ease, max-height 0.24s ease, opacity 0.2s ease;\r\n  border-radius: 8px;\r\n  width: 340px;\r\n  max-height: 350px;\r\n  background: transparent;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  will-change: height, margin-top, opacity, box-shadow;\r\n}\r\n\r\n.fb-changelog-popup-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  position: fixed;\r\n  visibility: hidden;\r\n  z-index: 2147483607;\r\n  top: -950em;\r\n}\r\n\r\n.fb-changelog-popup-iframe {\r\n  border: none;\r\n  z-index: 2147483647;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n/* Overlay styles */\r\n.fb-changelog-popup-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  backdrop-filter: blur(2px);\r\n  z-index: 2147483647;\r\n  /* overflow: auto; */\r\n  animation: changelogFadeIn 0.2s linear;\r\n  /* overflow-x: hidden; */\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: start;\r\n  overflow-x: hidden;\r\n  opacity: 1;\r\n  align-items: center;\r\n  transition: opacity 0.3s ease-in-out, visibility 0.3s linear;\r\n}\r\n\r\n.fb-changelog-popup-overlay-iframe {\r\n  transition: height 0.95s ease, min-height 0.95s ease, opacity 0.3s ease;\r\n  border-radius: 12px;\r\n  z-index: 2147483648;\r\n  min-height: 314px;\r\n  z-index: 1000;\r\n  width: 608px;\r\n  max-height: 700px;\r\n  margin-top: 5%;\r\n  margin-bottom: 12px;\r\n  overflow: hidden !important;\r\n  display: relative;\r\n}\r\n\r\n.fb-changelog-popup-overlay-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  visibility: hidden;\r\n  transition: opacity 0.3s ease-in-out, visibility 0.3s linear;\r\n}\r\n\r\n@keyframes changelogFadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  .fb-changelog-popup-overlay-iframe {\r\n    inset: 0;\r\n    margin: 0 !important;\r\n    max-height: 100%;\r\n    border-radius: 0 !important;\r\n    height: 100% !important;\r\n    width: 100% !important;\r\n    border: 0 !important;\r\n  }\r\n}\r\n",""]);const o=s},155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81),r=n.n(i),a=n(645),s=n.n(a)()(r());s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@300;500;600&display=swap);"]),s.push([e.id,":root {\r\n  /* --fb-feedback-button-bg-color: #172ec6; */\r\n}\r\n\r\n.fb-feedback-widget-overlay {\r\n  position: fixed;\r\n  inset: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  backdrop-filter: blur(4px);\r\n  z-index: 2147483646;\r\n  animation: feedbackFadeIn 0.2s linear;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: start;\r\n  overflow-x: hidden;\r\n  opacity: 1;\r\n  align-items: center;\r\n  transition: opacity 0.3s ease-in-out;\r\n}\r\n\r\n.fb-feedback-widget-overlay-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  visibility: hidden;\r\n}\r\n\r\n.fb-feedback-widget-iframe {\r\n  transition: height 0.95s ease, min-height 0.95s ease, opacity 0.3s ease;\r\n  border-radius: 12px;\r\n  z-index: 2147483647;\r\n  min-height: 314px;\r\n  z-index: 1000;\r\n  max-height: 100vh;\r\n  width: 448px;\r\n  margin-top: 5%;\r\n  margin-bottom: 12px;\r\n  display: relative;\r\n}\r\n\r\n/* On mobile change the top percentage  */\r\n@media only screen and (max-width: 600px) {\r\n  .fb-feedback-widget-overlay {\r\n    max-height: 100vh;\r\n    top: auto;\r\n    bottom: 0;\r\n    width: 100%;\r\n  }\r\n  .fb-feedback-widget-iframe {\r\n    justify-content: end;\r\n    top: auto;\r\n    border-right: 0 !important;\r\n    border-left: 0 !important;\r\n    border-bottom: 0 !important;\r\n    border-radius: 0 !important;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin-top: auto;\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-right {\r\n  transform: rotate(-90deg) translate(50%, -50%);\r\n  transform-origin: 100% 50%;\r\n}\r\n\r\nfbdiv {\r\n  all: unset;\r\n  display: block;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container {\r\n  display: block;\r\n  width: auto !important;\r\n  height: auto !important;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button svg {\r\n  float: left;\r\n  width: 15px;\r\n  height: 15px;\r\n  /* margin: 13px 5px 0 0; */\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button {\r\n  display: block;\r\n  position: fixed;\r\n  z-index: 1000000;\r\n  top: auto;\r\n  bottom: 0;\r\n  width: auto;\r\n  height: 43px;\r\n  line-height: 43px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  font-family: 'Inter', sans-serif !important;\r\n  font-weight: 600;\r\n  letter-spacing: normal;\r\n  word-spacing: normal;\r\n  margin: 0;\r\n  border-radius: 8px 8px 0 0;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  border-bottom: 0px;\r\n  color: rgba(var(--fb-feedback-button-text-color), 1);\r\n  background-color: var(--fb-feedback-button-bg-color);\r\n  background-image: none;\r\n  cursor: pointer;\r\n  transition: all 0.25s ease-in-out;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  -webkit-font-smoothing: antialiased;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button {\r\n  box-shadow: 0 0 10px rgba(17, 24, 39, 0.2);\r\n  white-space: nowrap !important;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button:hover {\r\n  box-shadow: 0 0 33px rgba(17, 24, 39, 0.4);\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button:before {\r\n  content: '';\r\n  position: absolute;\r\n  inset: 0;\r\n  transition: all 0.25s ease-in-out;\r\n  background-color: rgba(255, 255, 255, 0);\r\n  border-color: rgba(255, 255, 255, 0);\r\n  border-radius: 6px 6px 0 0;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button:hover:before {\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  border-color: rgba(255, 255, 255, 0.35);\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button {\r\n  padding: 0 16px 0 13px;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button svg {\r\n  float: left;\r\n  width: 15px;\r\n  height: 15px;\r\n  margin: 13px 5px 0 0;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-right {\r\n  right: -3px;\r\n  top: 45%;\r\n  bottom: auto;\r\n  animation: feedbackFadeIn 0.3s ease-in, animateFeedbackButtonLeft 0.3s ease-in;\r\n  border-bottom: 2px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* Goes here */\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-left {\r\n  left: -3px;\r\n  top: 45%;\r\n  bottom: auto;\r\n  animation: feedbackFadeIn 0.3s ease-in, animateFeedbackButtonRight 0.3s ease-in;\r\n  border-bottom: 2px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-left {\r\n  transform: rotate(-90deg) translate(-50%, 50%);\r\n  transform-origin: 0 50%;\r\n  border-radius: 0 0 8px 8px;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-left:hover {\r\n  left: 0;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-left svg {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-right {\r\n  transform: rotate(-90deg) translate(50%, -50%);\r\n  transform-origin: 100% 50%;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-right:hover {\r\n  right: 0;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-right svg {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-right:hover {\r\n  right: 0;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-right svg {\r\n  transform: rotate(90deg);\r\n}\r\n\r\n@keyframes feedbackFadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes animateFeedbackButtonLeft {\r\n  from {\r\n    margin-right: -90px;\r\n  }\r\n\r\n  to {\r\n    margin-right: 0;\r\n  }\r\n}\r\n\r\n@keyframes animateFeedbackButtonRight {\r\n  from {\r\n    margin-left: -90px;\r\n  }\r\n\r\n  to {\r\n    margin-left: 0;\r\n  }\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-br {\r\n  left: auto;\r\n  right: 32px;\r\n  animation: animateFeedbackButtonUp 0.3s ease-in;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-bl {\r\n  right: auto;\r\n  left: 32px;\r\n  animation: animateFeedbackButtonUp 0.3s ease-in;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-br,\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-bl {\r\n  bottom: -3px;\r\n}\r\n\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-br:hover,\r\n.fb-feedback-widget-feedback-button-container .fb-feedback-widget-feedback-button-bl:hover {\r\n  bottom: 0;\r\n}\r\n",""]);const o=s},608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81),r=n.n(i),a=n(645),s=n.n(a)()(r());s.push([e.id,".featurebase-popup-button-iframe,\r\n.featurebase-popup-iframe {\r\n  top: auto;\r\n  outline: none;\r\n  left: auto;\r\n  border: none;\r\n  position: fixed;\r\n  touch-action: auto;\r\n  z-index: 2300000;\r\n  pointer-events: auto;\r\n  will-change: transform;\r\n  filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.1))\r\n    drop-shadow(0 4px 3px rgb(0 0 0 / 0.3));\r\n}\r\n\r\n.featurebase-popup-iframe {\r\n  opacity: 0;\r\n  bottom: 75px;\r\n  width: 0;\r\n  height: 0;\r\n  background: #242837;\r\n  max-height: 900px;\r\n  border-radius: 22px;\r\n  max-width: calc(100vw - 30px);\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 50%;\r\n  visibility: visible;\r\n  opacity: 0;\r\n  transition: transform 0.3s, opacity 0.15s, visibility 0s 0.15s;\r\n}\r\n\r\n.featurebase-popup-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 2000000;\r\n  display: none;\r\n  backdrop-filter: blur(4px);\r\n}\r\n.featurebase-popup-iframe.featurebase-popup-iframe-show {\r\n  width: 550px;\r\n  min-height: 450px;\r\n  opacity: 1 !important;\r\n  visibility: visible;\r\n  transition-delay: 0s;\r\n}\r\n.fb-fade-in {\r\n  opacity: 1;\r\n  animation-name: fb-fadeInOpacity;\r\n  animation-iteration-count: 1;\r\n  animation-timing-function: ease-in;\r\n  animation-duration: 0.3s;\r\n}\r\n\r\n@keyframes fb-fadeInOpacity {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n",""]);const o=s},357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81),r=n.n(i),a=n(645),s=n.n(a)()(r());s.push([e.id,"/* define global vars */\r\n:root {\r\n  --featurebase-survey-widget-close-btn-color: #ffffff;\r\n  --featurebase-survey-widget-horizontal-padding: 20px;\r\n  --featurebase-survey-widget-vertical-padding: 20px;\r\n  --featurebase-survey-widget-wrapper-right: var(--featurebase-survey-widget-horizontal-padding);\r\n  --featurebase-survey-widget-wrapper-left: auto;\r\n}\r\n\r\n.fb-survey-widget-wrapper {\r\n  position: fixed; /* Use fixed positioning */\r\n  right: var(--featurebase-survey-widget-wrapper-right); /* Distance from the right of the viewport */\r\n  left: var(--featurebase-survey-widget-wrapper-left); /* Distance from the left of the viewport */\r\n  bottom: var(--featurebase-survey-widget-vertical-padding); /* Distance from the bottom of the viewport */\r\n\r\n  border: 0px;\r\n  border-width: 0px;\r\n  border-radius: 12px;\r\n  z-index: 2000000000;\r\n  /* min-height: 314px; */\r\n  max-height: 100vh;\r\n  width: 400px;\r\n  display: block; /* or you might want 'inline-block' depending on your layout */\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease-in-out; /* Adjust the duration and timing function as needed */\r\n}\r\n\r\n.fb-survey-widget-iframe-wrapper {\r\n  position: relative; /* Use fixed positioning */\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.fb-survey-widget-iframe {\r\n  display: block;\r\n  border: 0px;\r\n  border-width: 0px;\r\n  border-radius: 12px;\r\n  width: 100%;\r\n  min-height: 300px;\r\n}\r\n\r\n.fb-survey-widget-close {\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n  z-index: 2147483647;\r\n  /* Align to top right and a bit of margin */\r\n  top: -10px;\r\n  right: -10px;\r\n  background: rgba(var(--fb-survey-iframe-primary-color), 1);\r\n  padding: 4px;\r\n  border-radius: 100%;\r\n  transition: background 0.3s ease-in-out;\r\n  backdrop-filter: blur(12px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.fb-survey-widget-close:hover {\r\n  background: rgba(var(--fb-survey-iframe-primary-color), 0.6);\r\n}\r\n\r\n.fb-survey-widget-close svg {\r\n  opacity: 60% !important;\r\n  stroke-width: 2.5px !important;\r\n  stroke: #ffffff !important;\r\n  height: 16px !important;\r\n  width: 16px !important;\r\n}\r\n\r\nfbdiv {\r\n  all: unset;\r\n  display: block;\r\n}\r\n\r\n/* On mobile change the top percentage  */\r\n@media only screen and (max-width: 420px) {\r\n  .fb-survey-widget-wrapper {\r\n    max-height: 100vh;\r\n    top: auto;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n  }\r\n\r\n  .fb-survey-widget-close {\r\n    top: -12px;\r\n    right: 6px;\r\n  }\r\n  .fb-survey-widget-iframe {\r\n    border-right: 0 !important;\r\n    border-left: 0 !important;\r\n    border-bottom: 0 !important;\r\n    border-radius: 0 !important;\r\n    width: 100%;\r\n    margin-top: auto;\r\n    margin-bottom: 0;\r\n    padding-bottom: 0;\r\n  }\r\n}\r\n",""]);const o=s},145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81),r=n.n(i),a=n(645),s=n.n(a)()(r());s.push([e.id,":root {\r\n  --featurebase-widget-left: 15px;\r\n  --featurebase-widget-right: auto;\r\n  --featurebase-widget-width: 384px;\r\n  --featurebase-widget-border-radius: 22px;\r\n  --featurebase-widget-button-left: 15px;\r\n  --featurebase-widget-button-right: auto;\r\n  --featurebase-widget-max-height: 900px;\r\n  --featurebase-widget-height: 75vh;\r\n  --featurebase-widget-bottom: auto;\r\n\r\n  --featurebase-widget-keyframe-from: 12px;\r\n  --featurebase-widget-keyframe-to: 0px;\r\n}\r\n\r\n.featurebase-widget-button-iframe,\r\n.featurebase-widget-iframe {\r\n  top: auto;\r\n  outline: none;\r\n  left: auto;\r\n  border: none;\r\n  position: fixed;\r\n  overflow: hidden;\r\n  touch-action: auto;\r\n  visibility: visible;\r\n  z-index: 1900000000;\r\n  pointer-events: auto;\r\n  will-change: transform;\r\n}\r\n\r\n.fb-widget-hide-toggle-button {\r\n  display: none !important;\r\n}\r\n\r\n@media (max-width: 590px) {\r\n  .featurebase-widget-iframe {\r\n    max-width: 100% !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    max-height: 100% !important;\r\n    border-radius: 0 !important;\r\n    inset: 0 !important;\r\n  }\r\n\r\n  .fb-widget-opened-toggle-button {\r\n    top: 10px !important;\r\n    z-index: 2147483648 !important;\r\n    left: auto !important;\r\n    right: 10px !important;\r\n    position: fixed;\r\n    scale: 0.7 !important;\r\n    /* display: none !important; */\r\n  }\r\n\r\n  .fb-widget-fullscreen-x-left {\r\n    right: 16px !important;\r\n    left: auto !important;\r\n  }\r\n\r\n  /* .featurebase-widget-button-iframe {\r\n    left: auto !important;\r\n    right: 15px !important;\r\n    top: 4px !important;\r\n  } */\r\n}\r\n\r\n.featurebase-widget-button-iframe {\r\n  width: 50px;\r\n  bottom: 15px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  left: var(--featurebase-widget-button-left);\r\n  right: var(--featurebase-widget-button-right);\r\n  transform: scale(1);\r\n  background: #292a7d;\r\n  will-change: transform;\r\n  transition: transform 0.1s, opacity 0.2s;\r\n}\r\n\r\n.featurebase-widget-button-iframe:hover {\r\n  transform: scale(1.05);\r\n  opacity: 0.8;\r\n}\r\n\r\n.featurebase-widget-button-iframe:active {\r\n  transform: scale(0.9);\r\n  transition: transform 0.1s, opacity 0.2s;\r\n}\r\n\r\n.featurebase-widget-iframe {\r\n  width: var(--featurebase-widget-width);\r\n  left: var(--featurebase-widget-left);\r\n  right: var(--featurebase-widget-right);\r\n  height: var(--featurebase-widget-height);\r\n  bottom: var(--featurebase-widget-bottom);\r\n  background: #242837;\r\n  max-height: var(--featurebase-widget-max-height);\r\n  border-radius: var(--featurebase-widget-border-radius);\r\n  max-width: calc(100vw - 30px);\r\n  opacity: 0;\r\n  /* transition: transform cubic-bezier(0, 1.2, 1, 1) 0.3s, opacity 0.1s ease-in-out, visibility 0.3s linear; */\r\n  /* transform: scale(0.1); */\r\n  visibility: hidden;\r\n  will-change: transform;\r\n}\r\n\r\n.featurebase-widget-iframe.featurebase-widget-iframe-show {\r\n  /* transition: transform cubic-bezier(0, 1.2, 1, 1) 0.3, opacity 0.1s ease, visibility 0.3s linear; */\r\n  opacity: 1 !important;\r\n  visibility: visible !important;\r\n  transform: translateX(0) !important;\r\n}\r\n\r\n.fb-widget-fullscreen-x {\r\n  display: none;\r\n  position: fixed !important;\r\n  top: 16px !important;\r\n  /* left: var(--featurebase-widget-fullscreen-x-left) !important;\r\n  right: var(--featurebase-widget-fullscreen-x-right) !important; */\r\n  cursor: pointer !important;\r\n  z-index: 2147483646 !important;\r\n  color: #fff !important;\r\n  padding: 4px !important;\r\n  width: 30px !important;\r\n  height: 30px !important;\r\n  border: 0;\r\n  background-color: rgba(30, 41, 59, 0.5) !important;\r\n  border-radius: 30% !important;\r\n  backdrop-filter: blur(8px) !important;\r\n}\r\n\r\n.fb-widget-fullscreen-x-right {\r\n  right: 24px !important;\r\n}\r\n\r\n.fb-widget-fullscreen-x-left {\r\n  left: 520px;\r\n  right: auto;\r\n}\r\n\r\n.fb-widget-fullscreen-x:hover {\r\n  background-color: rgba(30, 41, 59, 0.9) !important;\r\n}\r\n\r\n.featurebase-widget-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 2000000;\r\n  display: none;\r\n  backdrop-filter: blur(8px);\r\n}\r\n\r\n.fb-button-x-fade-in {\r\n  opacity: 1;\r\n  animation-name: fb-widget-fadeInOpacity;\r\n  animation-iteration-count: 1;\r\n  animation-timing-function: ease-in;\r\n  animation-duration: 1s;\r\n}\r\n\r\n.fb-widget-fade-in {\r\n  opacity: 1;\r\n  animation-name: fb-widget-fadeInOpacity;\r\n  animation-iteration-count: 1;\r\n  animation-timing-function: ease-in;\r\n  animation-duration: 0.3s;\r\n}\r\n\r\n@keyframes fb-widget-fadeInOpacity {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n",""]);const o=s},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);i&&s[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},702:(e,t)=>{var n,i,r;!function(a){if("undefined"!=typeof window){var s,o=0,l=!1,d=!1,c=7,u="[iFrameSizer]",f=u.length,h=null,p=window.requestAnimationFrame,g=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),m={},b=null,v=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){C("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}}),y={};window.jQuery!==a&&((s=window.jQuery).fn?s.fn.iFrameResize||(s.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){D(n,e)})).end()}):T("","Unable to bind to jQuery, it is not fully loaded.")),i=[],(r="function"==typeof(n=K)?n.apply(t,i):n)===a||(e.exports=r),window.iFrameResize=window.iFrameResize||K()}function w(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function x(e,t,n){e.addEventListener(t,n,!1)}function k(e,t,n){e.removeEventListener(t,n,!1)}function _(e){return u+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function E(e){return m[e]?m[e].log:l}function S(e,t){P("log",e,t,E(e))}function T(e,t){P("info",e,t,E(e))}function C(e,t){P("warn",e,t,!0)}function P(e,t,n,i){!0===i&&"object"==typeof window.console&&console[e](_(t),n)}function I(e){function t(){r("Height"),r("Width"),N((function(){R(j),A(D),g("onResized",j)}),j,"init")}function n(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function i(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function r(e){var t=Number(m[D]["max"+e]),n=Number(m[D]["min"+e]),i=e.toLowerCase(),r=Number(j[i]);S(D,"Checking "+i+" is in range "+n+"-"+t),r<n&&(r=n,S(D,"Set "+i+" to min value")),r>t&&(r=t,S(D,"Set "+i+" to max value")),j[i]=""+r}function a(e){return I.slice(I.indexOf(":")+c+e)}function s(e,t){var n,i,r;n=function(){var n,i;M("Send Page Info","pageInfo:"+(n=document.body.getBoundingClientRect(),i=j.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:i.height,iframeWidth:i.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(i.top-n.top,10),offsetLeft:parseInt(i.left-n.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),e,t)},i=32,y[r=t]||(y[r]=setTimeout((function(){y[r]=null,n()}),i))}function o(e){var t=e.getBoundingClientRect();return L(D),{x:Math.floor(Number(t.left)+Number(h.x)),y:Math.floor(Number(t.top)+Number(h.y))}}function l(e){var t=e?o(j.iframe):{x:0,y:0},n={x:Number(j.width)+t.x,y:Number(j.height)+t.y};S(D,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top===window.self?(h=n,d(),S(D,"--")):window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):C(D,"Unable to scroll to requested position, window.parentIFrame not found")}function d(){!1===g("onScroll",h)?Z():A(D)}function p(e){var t={};if(0===Number(j.width)&&0===Number(j.height)){var n=a(9).split(":");t={x:n[1],y:n[0]}}else t={x:j.width,y:j.height};g(e,{iframe:j.iframe,screenX:Number(t.x),screenY:Number(t.y),type:j.type})}function g(e,t){return O(D,e,t)}var b,v,w,_,E,P,I=e.data,j={},D=null;"[iFrameResizerChild]Ready"===I?function(){for(var e in m)M("iFrame requested init",W(e),m[e].iframe,e)}():u===(""+I).slice(0,f)&&I.slice(f).split(":")[0]in m?(w=I.slice(f).split(":"),_=w[1]?parseInt(w[1],10):0,E=m[w[0]]&&m[w[0]].iframe,P=getComputedStyle(E),j={iframe:E,id:w[0],height:_+n(P)+i(P),width:w[2],type:w[3]},D=j.id,m[D]&&(m[D].loaded=!0),(v=j.type in{true:1,false:1,undefined:1})&&S(D,"Ignoring init message from meta parent page"),!v&&function(e){var t=!0;return m[e]||(t=!1,C(j.type+" No settings for "+e+". Message was: "+I)),t}(D)&&(S(D,"Received: "+I),b=!0,null===j.iframe&&(C(D,"IFrame ("+j.id+") not found"),b=!1),b&&function(){var t,n=e.origin,i=m[D]&&m[D].checkOrigin;if(i&&""+n!="null"&&!(i.constructor===Array?function(){var e=0,t=!1;for(S(D,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===n){t=!0;break}return t}():(t=m[D]&&m[D].remoteHost,S(D,"Checking connection is from: "+t),n===t)))throw new Error("Unexpected message received from: "+n+" for "+j.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(m[D]&&m[D].firstRun&&m[D]&&(m[D].firstRun=!1),j.type){case"close":z(j.iframe);break;case"message":c=a(6),S(D,"onMessage passed: {iframe: "+j.iframe.id+", message: "+c+"}"),g("onMessage",{iframe:j.iframe,message:JSON.parse(c)}),S(D,"--");break;case"mouseenter":p("onMouseEnter");break;case"mouseleave":p("onMouseLeave");break;case"autoResize":m[D].autoResize=JSON.parse(a(9));break;case"scrollTo":l(!1);break;case"scrollToOffset":l(!0);break;case"pageInfo":s(m[D]&&m[D].iframe,D),function(){function e(e,i){function r(){m[n]?s(m[n].iframe,n):t()}["scroll","resize"].forEach((function(t){S(n,e+t+" listener for sendPageInfo"),i(window,t,r)}))}function t(){e("Remove ",k)}var n=D;e("Add ",x),m[n]&&(m[n].stopPageInfo=t)}();break;case"pageInfoStop":m[D]&&m[D].stopPageInfo&&(m[D].stopPageInfo(),delete m[D].stopPageInfo);break;case"inPageLink":n=a(9).split("#")[1]||"",i=decodeURIComponent(n),(r=document.getElementById(i)||document.getElementsByName(i)[0])?(e=o(r),S(D,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y),h={x:e.x,y:e.y},d(),S(D,"--")):window.top===window.self?S(D,"In page link #"+n+" not found"):window.parentIFrame?window.parentIFrame.moveToAnchor(n):S(D,"In page link #"+n+" not found and window.parentIFrame not found");break;case"reset":F(j);break;case"init":t(),g("onInit",j.iframe);break;default:0===Number(j.width)&&0===Number(j.height)?C("Unsupported message received ("+j.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}var e,n,i,r,c}())):T(D,"Ignored: "+I)}function O(e,t,n){var i=null,r=null;if(m[e]){if("function"!=typeof(i=m[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");r=i(n)}return r}function j(e){var t=e.id;delete m[t]}function z(e){var t=e.id;if(!1!==O(t,"onClose",t)){S(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){C(e)}O(t,"onClosed",t),S(t,"--"),j(e)}else S(t,"Close iframe cancelled by onClose event")}function L(e){null===h&&S(e,"Get page position: "+(h={x:window.pageXOffset===a?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===a?document.documentElement.scrollTop:window.pageYOffset}).x+","+h.y)}function A(e){null!==h&&(window.scrollTo(h.x,h.y),S(e,"Set page position: "+h.x+","+h.y),Z())}function Z(){h=null}function F(e){S(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),L(e.id),N((function(){R(e),M("reset","reset",e.iframe,e.id)}),e,"reset")}function R(e){function t(t){d||"0"!==e[t]||(d=!0,S(i,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===(m[e]&&m[e].iframe.style[t])}function n(e){return null!==e.offsetParent}m[e]&&n(m[e].iframe)&&(t("height")||t("width"))&&M("Visibility change","resize",m[e].iframe,e)}Object.keys(m).forEach((function(t){e(t)}))}function t(t){S("window","Mutation observed: "+t[0].target+" "+t[0].type),B(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new i(t).observe(e,n)}var i=w();i&&n()}())}function n(n){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",S(e.id,"IFrame ("+i+") "+t+" set to "+e[t]+"px")):S("undefined","messageData id not set")}(n),t(n)}var i=e.iframe.id;m[i]&&(m[i].sizeHeight&&n("height"),m[i].sizeWidth&&n("width"))}function N(e,t,n){n!==t.type&&p&&!window.jasmine?(S(t.id,"Requesting animation frame"),p(e)):e()}function M(e,t,n,i,r){var a,s=!1;i=i||n.id,m[i]&&(n&&"contentWindow"in n&&null!==n.contentWindow?(a=m[i]&&m[i].targetOrigin,S(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+a),n.contentWindow.postMessage(u+t,a)):C(i,"["+e+"] IFrame("+i+") not found"),r&&m[i]&&m[i].warningTimeout&&(m[i].msgTimeout=setTimeout((function(){!m[i]||m[i].loaded||s||(s=!0,C(i,"IFrame has not responded within "+m[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),m[i].warningTimeout)))}function W(e){return e+":"+m[e].bodyMarginV1+":"+m[e].sizeWidth+":"+m[e].log+":"+m[e].interval+":"+m[e].enablePublicMethods+":"+m[e].autoResize+":"+m[e].bodyMargin+":"+m[e].heightCalculationMethod+":"+m[e].bodyBackground+":"+m[e].bodyPadding+":"+m[e].tolerance+":"+m[e].inPageLinks+":"+m[e].resizeFrom+":"+m[e].widthCalculationMethod+":"+m[e].mouseEvents}function D(e,t){function n(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],C(s,"Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var i,r,s=function(n){if("string"!=typeof n)throw new TypeError("Invaild id for iFrame. Expected String");var i;return""===n&&(e.id=(i=t&&t.id||v.id+o++,null!==document.getElementById(i)&&(i+=o++),n=i),l=(t||{}).log,S(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);s in m&&"iFrameResizer"in e?C(s,"Ignored iFrame, already setup."):(!function(t){var i;t=t||{},m[s]=Object.create(null),m[s].iframe=e,m[s].firstRun=!0,m[s].remoteHost=e.src&&e.src.split("/").slice(0,3).join("/"),function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(t),Object.keys(t).forEach(n,t),function(e){for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(m[s][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:v[t])}(t),m[s]&&(m[s].targetOrigin=!0===m[s].checkOrigin?""===(i=m[s].remoteHost)||null!==i.match(/^(about:blank|javascript:|file:\/\/)/)?"*":i:"*")}(t),function(){switch(S(s,"IFrame scrolling "+(m[s]&&m[s].scrolling?"enabled":"disabled")+" for "+s),e.style.overflow=!1===(m[s]&&m[s].scrolling)?"hidden":"auto",m[s]&&m[s].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=m[s]?m[s].scrolling:"no"}}(),function(){function t(t){var n=m[s][t];1/0!==n&&0!==n&&(e.style[t]="number"==typeof n?n+"px":n,S(s,"Set "+t+" = "+e.style[t]))}function n(e){if(m[s]["min"+e]>m[s]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!=typeof(m[s]&&m[s].bodyMargin)&&"0"!==(m[s]&&m[s].bodyMargin)||(m[s].bodyMarginV1=m[s].bodyMargin,m[s].bodyMargin=m[s].bodyMargin+"px"),i=W(s),(r=w())&&function(t){e.parentNode&&new t((function(t){t.forEach((function(t){Array.prototype.slice.call(t.removedNodes).forEach((function(t){t===e&&z(e)}))}))})).observe(e.parentNode,{childList:!0})}(r),x(e,"load",(function(){var t,n;M("iFrame.onload",i,e,a,!0),t=m[s]&&m[s].firstRun,n=m[s]&&m[s].heightCalculationMethod in g,!t&&n&&F({iframe:e,height:0,width:0,type:"init"})})),M("init",i,e,a,!0),m[s]&&(m[s].iframe.iFrameResizer={close:z.bind(null,m[s].iframe),removeListeners:j.bind(null,m[s].iframe),resize:M.bind(null,"Window resize","resize",m[s].iframe),moveToAnchor:function(e){M("Move to anchor","moveToAnchor:"+e,m[s].iframe,s)},sendMessage:function(e){M("Send Message","message:"+(e=JSON.stringify(e)),m[s].iframe,s)}}))}function B(e,t){null===b&&(b=setTimeout((function(){b=null,e()}),t))}function $(){"hidden"!==document.visibilityState&&(S("document","Trigger event: Visibility change"),B((function(){V("Tab Visible","resize")}),16))}function V(e,t){Object.keys(m).forEach((function(n){(function(e){return m[e]&&"parent"===m[e].resizeFrom&&m[e].autoResize&&!m[e].firstRun})(n)&&M(e,t,m[n].iframe,n)}))}function U(){x(window,"message",I),x(window,"resize",(function(){var e;S("window","Trigger event: "+(e="resize")),B((function(){V("Window "+e,"resize")}),16)})),x(document,"visibilitychange",$),x(document,"-webkit-visibilitychange",$)}function K(){function e(e,n){n&&(!function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),D(n,e),t.push(n))}var t;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!p;e+=1)p=window[t[e]+"RequestAnimationFrame"];p?p=p.bind(window):S("setup","RequestAnimationFrame not supported")}(),U(),function(n,i){switch(t=[],function(e){e&&e.enablePublicMethods&&C("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(n),typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(a,n));break;case"object":e(n,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return t}}}()},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var a={},s=[],o=0;o<e.length;o++){var l=e[o],d=i.base?l[0]+i.base:l[0],c=a[d]||0,u="".concat(d," ").concat(c);a[d]=c+1;var f=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var p=r(h,i);i.byIndex=o,t.splice(o,0,{identifier:u,updater:p,references:1})}s.push(u)}return s}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=i(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var o=n(a[s]);t[o].references--}for(var l=i(e,r),d=0;d<a.length;d++){var c=n(a[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>({92:"snapsvg",154:"screenshot",682:"pako",737:"html-to-canvas"}[e]+".chunk.js"),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="FeaturebaseSDK:",r.l=(n,i,a,s)=>{if(e[n])e[n].push(i);else{var o,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[i];var f=(t,i)=>{o.onerror=o.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(i))),t)return t(i)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),l&&document.head.appendChild(o)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!e;)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={630:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=a);var s=r.p+r.u(t),o=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,a,[s,o,l]=n,d=0;if(s.some((t=>0!==e[t]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)l(r)}for(t&&t(n);d<s.length;d++)a=s[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=this.webpackChunkFeaturebaseSDK=this.webpackChunkFeaturebaseSDK||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a={};return(()=>{"use strict";var e,t;r.r(a),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),i={};for(const e of n)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(e||(e={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(t||(t={}));const n=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),i=e=>{switch(typeof e){case"undefined":return n.undefined;case"string":return n.string;case"number":return isNaN(e)?n.nan:n.number;case"boolean":return n.boolean;case"function":return n.function;case"bigint":return n.bigint;case"symbol":return n.symbol;case"object":return Array.isArray(e)?n.array:null===e?n.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?n.promise:"undefined"!=typeof Map&&e instanceof Map?n.map:"undefined"!=typeof Set&&e instanceof Set?n.set:"undefined"!=typeof Date&&e instanceof Date?n.date:n.object;default:return n.unknown}},s=e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class o extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},i=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(i);else if("invalid_return_type"===r.code)i(r.returnTypeError);else if("invalid_arguments"===r.code)i(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,i=0;for(;i<r.path.length;){const n=r.path[i];i===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,e.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}o.create=e=>new o(e);const l=(t,i)=>{let r;switch(t.code){case s.invalid_type:r=t.received===n.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case s.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,e.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:r=`Unrecognized key(s) in object: ${e.joinValues(t.keys,", ")}`;break;case s.invalid_union:r="Invalid input";break;case s.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${e.joinValues(t.options)}`;break;case s.invalid_enum_value:r=`Invalid enum value. Expected ${e.joinValues(t.options)}, received '${t.received}'`;break;case s.invalid_arguments:r="Invalid function arguments";break;case s.invalid_return_type:r="Invalid function return type";break;case s.invalid_date:r="Invalid date";break;case s.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:e.assertNever(t.validation):r="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case s.too_small:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case s.too_big:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case s.custom:r="Invalid input";break;case s.invalid_intersection_types:r="Intersection results could not be merged";break;case s.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case s.not_finite:r="Number must be finite";break;default:r=i.defaultError,e.assertNever(t)}return{message:r}};let d=l;function c(){return d}const u=e=>{const{data:t,path:n,errorMaps:i,issueData:r}=e,a=[...n,...r.path||[]],s={...r,path:a};let o="";const l=i.filter((e=>!!e)).slice().reverse();for(const e of l)o=e(s,{data:t,defaultError:o}).message;return{...r,path:a,message:r.message||o}};function f(e,t){const n=u({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,c(),l].filter((e=>!!e))});e.common.issues.push(n)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if("aborted"===i.status)return p;"dirty"===i.status&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return h.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:t,value:r}=i;if("aborted"===t.status)return p;if("aborted"===r.status)return p;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),(void 0!==r.value||i.alwaysSet)&&(n[t.value]=r.value)}return{status:e.value,value:n}}}const p=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),m=e=>({status:"valid",value:e}),b=e=>"aborted"===e.status,v=e=>"dirty"===e.status,y=e=>"valid"===e.status,w=e=>"undefined"!=typeof Promise&&e instanceof Promise;var x;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(x||(x={}));class k{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _=(e,t)=>{if(y(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new o(e.common.issues);return this._error=t,this._error}}};function E(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:r}=e;if(t&&(n||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=i?i:t.defaultError}:{message:null!=n?n:t.defaultError},description:r}}class S{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return i(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h,ctx:{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},a=this._parseSync({data:e,path:r.path,parent:r});return _(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(w(r)?r:Promise.resolve(r));return _(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,i)=>{const r=e(t),a=()=>i.addIssue({code:s.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(a(),!1))):!!r||(a(),!1)}))}refinement(e,t){return this._refinement(((n,i)=>!!e(n)||(i.addIssue("function"==typeof t?t(n,i):t),!1)))}_refinement(e){return new fe({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return he.create(this,this._def)}nullable(){return pe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return H.create(this,this._def)}promise(){return ue.create(this,this._def)}or(e){return J.create([this,e],this._def)}and(e){return ee.create(this,e,this._def)}transform(e){return new fe({...E(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ge({...E(this._def),innerType:this,defaultValue:t,typeName:_e.ZodDefault})}brand(){return new ye({typeName:_e.ZodBranded,type:this,...E(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new me({...E(this._def),innerType:this,catchValue:t,typeName:_e.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return we.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const T=/^c[^\s-]{8,}$/i,C=/^[a-z][a-z0-9]*$/,P=/[0-9A-HJKMNP-TV-Z]{26}/,I=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,O=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,j=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,z=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,L=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class A extends S{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:s.invalid_string,...x.errToObj(n)}),this.nonempty=e=>this.min(1,x.errToObj(e)),this.trim=()=>new A({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new A({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new A({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){this._def.coerce&&(t.data=String(t.data));if(this._getType(t)!==n.string){const e=this._getOrReturnCtx(t);return f(e,{code:s.invalid_type,expected:n.string,received:e.parsedType}),p}const i=new h;let r;for(const n of this._def.checks)if("min"===n.kind)t.data.length<n.value&&(r=this._getOrReturnCtx(t,r),f(r,{code:s.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),i.dirty());else if("max"===n.kind)t.data.length>n.value&&(r=this._getOrReturnCtx(t,r),f(r,{code:s.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),i.dirty());else if("length"===n.kind){const e=t.data.length>n.value,a=t.data.length<n.value;(e||a)&&(r=this._getOrReturnCtx(t,r),e?f(r,{code:s.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):a&&f(r,{code:s.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),i.dirty())}else if("email"===n.kind)O.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"email",code:s.invalid_string,message:n.message}),i.dirty());else if("emoji"===n.kind)j.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"emoji",code:s.invalid_string,message:n.message}),i.dirty());else if("uuid"===n.kind)I.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"uuid",code:s.invalid_string,message:n.message}),i.dirty());else if("cuid"===n.kind)T.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"cuid",code:s.invalid_string,message:n.message}),i.dirty());else if("cuid2"===n.kind)C.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"cuid2",code:s.invalid_string,message:n.message}),i.dirty());else if("ulid"===n.kind)P.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"ulid",code:s.invalid_string,message:n.message}),i.dirty());else if("url"===n.kind)try{new URL(t.data)}catch(e){r=this._getOrReturnCtx(t,r),f(r,{validation:"url",code:s.invalid_string,message:n.message}),i.dirty()}else if("regex"===n.kind){n.regex.lastIndex=0;n.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{validation:"regex",code:s.invalid_string,message:n.message}),i.dirty())}else if("trim"===n.kind)t.data=t.data.trim();else if("includes"===n.kind)t.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(t,r),f(r,{code:s.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),i.dirty());else if("toLowerCase"===n.kind)t.data=t.data.toLowerCase();else if("toUpperCase"===n.kind)t.data=t.data.toUpperCase();else if("startsWith"===n.kind)t.data.startsWith(n.value)||(r=this._getOrReturnCtx(t,r),f(r,{code:s.invalid_string,validation:{startsWith:n.value},message:n.message}),i.dirty());else if("endsWith"===n.kind)t.data.endsWith(n.value)||(r=this._getOrReturnCtx(t,r),f(r,{code:s.invalid_string,validation:{endsWith:n.value},message:n.message}),i.dirty());else if("datetime"===n.kind){((l=n).precision?l.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${l.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${l.precision}}Z$`):0===l.precision?l.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):l.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(t.data)||(r=this._getOrReturnCtx(t,r),f(r,{code:s.invalid_string,validation:"datetime",message:n.message}),i.dirty())}else"ip"===n.kind?(a=t.data,("v4"!==(o=n.version)&&o||!z.test(a))&&("v6"!==o&&o||!L.test(a))&&(r=this._getOrReturnCtx(t,r),f(r,{validation:"ip",code:s.invalid_string,message:n.message}),i.dirty())):e.assertNever(n);var a,o,l;return{status:i.value,value:t.data}}_addCheck(e){return new A({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...x.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...x.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...x.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...x.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...x.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...x.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Z(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,r=n>i?n:i;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}A.create=e=>{var t;return new A({checks:[],typeName:_e.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...E(e)})};class F extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){this._def.coerce&&(t.data=Number(t.data));if(this._getType(t)!==n.number){const e=this._getOrReturnCtx(t);return f(e,{code:s.invalid_type,expected:n.number,received:e.parsedType}),p}let i;const r=new h;for(const n of this._def.checks)if("int"===n.kind)e.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),f(i,{code:s.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?t.data<n.value:t.data<=n.value)&&(i=this._getOrReturnCtx(t,i),f(i,{code:s.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?t.data>n.value:t.data>=n.value)&&(i=this._getOrReturnCtx(t,i),f(i,{code:s.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==Z(t.data,n.value)&&(i=this._getOrReturnCtx(t,i),f(i,{code:s.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),f(i,{code:s.not_finite,message:n.message}),r.dirty()):e.assertNever(n);return{status:r.value,value:t.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,n,i){return new F({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:x.toString(i)}]})}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((t=>"int"===t.kind||"multipleOf"===t.kind&&e.isInteger(t.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}F.create=e=>new F({checks:[],typeName:_e.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...E(e)});class R extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){this._def.coerce&&(t.data=BigInt(t.data));if(this._getType(t)!==n.bigint){const e=this._getOrReturnCtx(t);return f(e,{code:s.invalid_type,expected:n.bigint,received:e.parsedType}),p}let i;const r=new h;for(const n of this._def.checks)if("min"===n.kind){(n.inclusive?t.data<n.value:t.data<=n.value)&&(i=this._getOrReturnCtx(t,i),f(i,{code:s.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?t.data>n.value:t.data>=n.value)&&(i=this._getOrReturnCtx(t,i),f(i,{code:s.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else"multipleOf"===n.kind?t.data%n.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),f(i,{code:s.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):e.assertNever(n);return{status:r.value,value:t.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,n,i){return new R({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:x.toString(i)}]})}_addCheck(e){return new R({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}R.create=e=>{var t;return new R({checks:[],typeName:_e.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...E(e)})};class N extends S{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==n.boolean){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.boolean,received:t.parsedType}),p}return m(e.data)}}N.create=e=>new N({typeName:_e.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...E(e)});class M extends S{_parse(t){this._def.coerce&&(t.data=new Date(t.data));if(this._getType(t)!==n.date){const e=this._getOrReturnCtx(t);return f(e,{code:s.invalid_type,expected:n.date,received:e.parsedType}),p}if(isNaN(t.data.getTime())){return f(this._getOrReturnCtx(t),{code:s.invalid_date}),p}const i=new h;let r;for(const n of this._def.checks)"min"===n.kind?t.data.getTime()<n.value&&(r=this._getOrReturnCtx(t,r),f(r,{code:s.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),i.dirty()):"max"===n.kind?t.data.getTime()>n.value&&(r=this._getOrReturnCtx(t,r),f(r,{code:s.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),i.dirty()):e.assertNever(n);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(e){return new M({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}M.create=e=>new M({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:_e.ZodDate,...E(e)});class W extends S{_parse(e){if(this._getType(e)!==n.symbol){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.symbol,received:t.parsedType}),p}return m(e.data)}}W.create=e=>new W({typeName:_e.ZodSymbol,...E(e)});class D extends S{_parse(e){if(this._getType(e)!==n.undefined){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.undefined,received:t.parsedType}),p}return m(e.data)}}D.create=e=>new D({typeName:_e.ZodUndefined,...E(e)});class B extends S{_parse(e){if(this._getType(e)!==n.null){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.null,received:t.parsedType}),p}return m(e.data)}}B.create=e=>new B({typeName:_e.ZodNull,...E(e)});class $ extends S{constructor(){super(...arguments),this._any=!0}_parse(e){return m(e.data)}}$.create=e=>new $({typeName:_e.ZodAny,...E(e)});class V extends S{constructor(){super(...arguments),this._unknown=!0}_parse(e){return m(e.data)}}V.create=e=>new V({typeName:_e.ZodUnknown,...E(e)});class U extends S{_parse(e){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.never,received:t.parsedType}),p}}U.create=e=>new U({typeName:_e.ZodNever,...E(e)});class K extends S{_parse(e){if(this._getType(e)!==n.undefined){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.void,received:t.parsedType}),p}return m(e.data)}}K.create=e=>new K({typeName:_e.ZodVoid,...E(e)});class H extends S{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==n.array)return f(t,{code:s.invalid_type,expected:n.array,received:t.parsedType}),p;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&(f(t,{code:e?s.too_big:s.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(f(t,{code:s.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(f(t,{code:s.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new k(t,e,t.path,n))))).then((e=>h.mergeArray(i,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new k(t,e,t.path,n))));return h.mergeArray(i,a)}get element(){return this._def.type}min(e,t){return new H({...this._def,minLength:{value:e,message:x.toString(t)}})}max(e,t){return new H({...this._def,maxLength:{value:e,message:x.toString(t)}})}length(e,t){return new H({...this._def,exactLength:{value:e,message:x.toString(t)}})}nonempty(e){return this.min(1,e)}}function q(e){if(e instanceof X){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=he.create(q(i))}return new X({...e._def,shape:()=>t})}return e instanceof H?new H({...e._def,type:q(e.element)}):e instanceof he?he.create(q(e.unwrap())):e instanceof pe?pe.create(q(e.unwrap())):e instanceof te?te.create(e.items.map((e=>q(e)))):e}H.create=(e,t)=>new H({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...E(t)});class X extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const t=this._def.shape(),n=e.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(e){if(this._getType(e)!==n.object){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.object,received:t.parsedType}),p}const{status:t,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof U&&"strip"===this._def.unknownKeys))for(const e in i.data)a.includes(e)||o.push(e);const l=[];for(const e of a){const t=r[e],n=i.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new k(i,n,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof U){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)l.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)o.length>0&&(f(i,{code:s.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const n=i.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new k(i,n,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of l){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>h.mergeObjectSync(t,e))):h.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new X({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var i,r,a,s;const o=null!==(a=null===(r=(i=this._def).errorMap)||void 0===r?void 0:r.call(i,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=x.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new X({...this._def,unknownKeys:"strip"})}passthrough(){return new X({...this._def,unknownKeys:"passthrough"})}extend(e){return new X({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new X({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new X({...this._def,catchall:e})}pick(t){const n={};return e.objectKeys(t).forEach((e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])})),new X({...this._def,shape:()=>n})}omit(t){const n={};return e.objectKeys(this.shape).forEach((e=>{t[e]||(n[e]=this.shape[e])})),new X({...this._def,shape:()=>n})}deepPartial(){return q(this)}partial(t){const n={};return e.objectKeys(this.shape).forEach((e=>{const i=this.shape[e];t&&!t[e]?n[e]=i:n[e]=i.optional()})),new X({...this._def,shape:()=>n})}required(t){const n={};return e.objectKeys(this.shape).forEach((e=>{if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof he;)t=t._def.innerType;n[e]=t}})),new X({...this._def,shape:()=>n})}keyof(){return le(e.objectKeys(this.shape))}}X.create=(e,t)=>new X({shape:()=>e,unknownKeys:"strip",catchall:U.create(),typeName:_e.ZodObject,...E(t)}),X.strictCreate=(e,t)=>new X({shape:()=>e,unknownKeys:"strict",catchall:U.create(),typeName:_e.ZodObject,...E(t)}),X.lazycreate=(e,t)=>new X({shape:e,unknownKeys:"strip",catchall:U.create(),typeName:_e.ZodObject,...E(t)});class J extends S{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new o(e.ctx.common.issues)));return f(t,{code:s.invalid_union,unionErrors:n}),p}));{let e;const i=[];for(const r of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=r._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=i.map((e=>new o(e)));return f(t,{code:s.invalid_union,unionErrors:r}),p}}get options(){return this._def.options}}J.create=(e,t)=>new J({options:e,typeName:_e.ZodUnion,...E(t)});const Y=e=>e instanceof se?Y(e.schema):e instanceof fe?Y(e.innerType()):e instanceof oe?[e.value]:e instanceof de?e.options:e instanceof ce?Object.keys(e.enum):e instanceof ge?Y(e._def.innerType):e instanceof D?[void 0]:e instanceof B?[null]:null;class G extends S{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==n.object)return f(t,{code:s.invalid_type,expected:n.object,received:t.parsedType}),p;const i=this.discriminator,r=t.data[i],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),p)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const i=new Map;for(const n of t){const t=Y(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(i.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);i.set(r,n)}}return new G({typeName:_e.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...E(n)})}}function Q(t,r){const a=i(t),s=i(r);if(t===r)return{valid:!0,data:t};if(a===n.object&&s===n.object){const n=e.objectKeys(r),i=e.objectKeys(t).filter((e=>-1!==n.indexOf(e))),a={...t,...r};for(const e of i){const n=Q(t[e],r[e]);if(!n.valid)return{valid:!1};a[e]=n.data}return{valid:!0,data:a}}if(a===n.array&&s===n.array){if(t.length!==r.length)return{valid:!1};const e=[];for(let n=0;n<t.length;n++){const i=Q(t[n],r[n]);if(!i.valid)return{valid:!1};e.push(i.data)}return{valid:!0,data:e}}return a===n.date&&s===n.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class ee extends S{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if(b(e)||b(i))return p;const r=Q(e.value,i.value);return r.valid?((v(e)||v(i))&&t.dirty(),{status:t.value,value:r.data}):(f(n,{code:s.invalid_intersection_types}),p)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>i(e,t))):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ee.create=(e,t,n)=>new ee({left:e,right:t,typeName:_e.ZodIntersection,...E(n)});class te extends S{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==n.array)return f(i,{code:s.invalid_type,expected:n.array,received:i.parsedType}),p;if(i.data.length<this._def.items.length)return f(i,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),p;!this._def.rest&&i.data.length>this._def.items.length&&(f(i,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...i.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new k(i,e,i.path,t)):null})).filter((e=>!!e));return i.common.async?Promise.all(r).then((e=>h.mergeArray(t,e))):h.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new te({...this._def,rest:e})}}te.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new te({items:e,typeName:_e.ZodTuple,rest:null,...E(t)})};class ne extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==n.object)return f(i,{code:s.invalid_type,expected:n.object,received:i.parsedType}),p;const r=[],a=this._def.keyType,o=this._def.valueType;for(const e in i.data)r.push({key:a._parse(new k(i,e,i.path,e)),value:o._parse(new k(i,i.data[e],i.path,e))});return i.common.async?h.mergeObjectAsync(t,r):h.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new ne(t instanceof S?{keyType:e,valueType:t,typeName:_e.ZodRecord,...E(n)}:{keyType:A.create(),valueType:e,typeName:_e.ZodRecord,...E(t)})}}class ie extends S{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==n.map)return f(i,{code:s.invalid_type,expected:n.map,received:i.parsedType}),p;const r=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map((([e,t],n)=>({key:r._parse(new k(i,e,i.path,[n,"key"])),value:a._parse(new k(i,t,i.path,[n,"value"]))})));if(i.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const i=await n.key,r=await n.value;if("aborted"===i.status||"aborted"===r.status)return p;"dirty"!==i.status&&"dirty"!==r.status||t.dirty(),e.set(i.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const i=n.key,r=n.value;if("aborted"===i.status||"aborted"===r.status)return p;"dirty"!==i.status&&"dirty"!==r.status||t.dirty(),e.set(i.value,r.value)}return{status:t.value,value:e}}}}ie.create=(e,t,n)=>new ie({valueType:t,keyType:e,typeName:_e.ZodMap,...E(n)});class re extends S{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==n.set)return f(i,{code:s.invalid_type,expected:n.set,received:i.parsedType}),p;const r=this._def;null!==r.minSize&&i.data.size<r.minSize.value&&(f(i,{code:s.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&i.data.size>r.maxSize.value&&(f(i,{code:s.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const i of e){if("aborted"===i.status)return p;"dirty"===i.status&&t.dirty(),n.add(i.value)}return{status:t.value,value:n}}const l=[...i.data.values()].map(((e,t)=>a._parse(new k(i,e,i.path,t))));return i.common.async?Promise.all(l).then((e=>o(e))):o(l)}min(e,t){return new re({...this._def,minSize:{value:e,message:x.toString(t)}})}max(e,t){return new re({...this._def,maxSize:{value:e,message:x.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}re.create=(e,t)=>new re({valueType:e,minSize:null,maxSize:null,typeName:_e.ZodSet,...E(t)});class ae extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==n.function)return f(t,{code:s.invalid_type,expected:n.function,received:t.parsedType}),p;function i(e,n){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c(),l].filter((e=>!!e)),issueData:{code:s.invalid_arguments,argumentsError:n}})}function r(e,n){return u({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,c(),l].filter((e=>!!e)),issueData:{code:s.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},d=t.data;return this._def.returns instanceof ue?m((async(...e)=>{const t=new o([]),n=await this._def.args.parseAsync(e,a).catch((n=>{throw t.addIssue(i(e,n)),t})),s=await d(...n),l=await this._def.returns._def.type.parseAsync(s,a).catch((e=>{throw t.addIssue(r(s,e)),t}));return l})):m(((...e)=>{const t=this._def.args.safeParse(e,a);if(!t.success)throw new o([i(e,t.error)]);const n=d(...t.data),s=this._def.returns.safeParse(n,a);if(!s.success)throw new o([r(n,s.error)]);return s.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ae({...this._def,args:te.create(e).rest(V.create())})}returns(e){return new ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ae({args:e||te.create([]).rest(V.create()),returns:t||V.create(),typeName:_e.ZodFunction,...E(n)})}}class se extends S{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}se.create=(e,t)=>new se({getter:e,typeName:_e.ZodLazy,...E(t)});class oe extends S{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),p}return{status:"valid",value:e.data}}get value(){return this._def.value}}function le(e,t){return new de({values:e,typeName:_e.ZodEnum,...E(t)})}oe.create=(e,t)=>new oe({value:e,typeName:_e.ZodLiteral,...E(t)});class de extends S{_parse(t){if("string"!=typeof t.data){const n=this._getOrReturnCtx(t),i=this._def.values;return f(n,{expected:e.joinValues(i),received:n.parsedType,code:s.invalid_type}),p}if(-1===this._def.values.indexOf(t.data)){const e=this._getOrReturnCtx(t),n=this._def.values;return f(e,{received:e.data,code:s.invalid_enum_value,options:n}),p}return m(t.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return de.create(e)}exclude(e){return de.create(this.options.filter((t=>!e.includes(t))))}}de.create=le;class ce extends S{_parse(t){const i=e.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==n.string&&r.parsedType!==n.number){const t=e.objectValues(i);return f(r,{expected:e.joinValues(t),received:r.parsedType,code:s.invalid_type}),p}if(-1===i.indexOf(t.data)){const t=e.objectValues(i);return f(r,{received:r.data,code:s.invalid_enum_value,options:t}),p}return m(t.data)}get enum(){return this._def.values}}ce.create=(e,t)=>new ce({values:e,typeName:_e.ZodNativeEnum,...E(t)});class ue extends S{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==n.promise&&!1===t.common.async)return f(t,{code:s.invalid_type,expected:n.promise,received:t.parsedType}),p;const i=t.parsedType===n.promise?t.data:Promise.resolve(t.data);return m(i.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ue.create=(e,t)=>new ue({type:e,typeName:_e.ZodPromise,...E(t)});class fe extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(i.data);return i.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:i.path,parent:i}))):this._def.schema._parseSync({data:e,path:i.path,parent:i})}const a={addIssue:e=>{f(i,e),e.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),"refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===i.common.async){const t=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===t.status?p:("dirty"===t.status&&n.dirty(),e(t.value),{status:n.value,value:t.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((t=>"aborted"===t.status?p:("dirty"===t.status&&n.dirty(),e(t.value).then((()=>({status:n.value,value:t.value}))))))}if("transform"===r.type){if(!1===i.common.async){const e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!y(e))return e;const t=r.transform(e.value,a);if(t instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:t}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((e=>y(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:n.value,value:e}))):e))}e.assertNever(r)}}fe.create=(e,t,n)=>new fe({schema:e,typeName:_e.ZodEffects,effect:t,...E(n)}),fe.createWithPreprocess=(e,t,n)=>new fe({schema:t,effect:{type:"preprocess",transform:e},typeName:_e.ZodEffects,...E(n)});class he extends S{_parse(e){return this._getType(e)===n.undefined?m(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}he.create=(e,t)=>new he({innerType:e,typeName:_e.ZodOptional,...E(t)});class pe extends S{_parse(e){return this._getType(e)===n.null?m(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pe.create=(e,t)=>new pe({innerType:e,typeName:_e.ZodNullable,...E(t)});class ge extends S{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===n.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ge.create=(e,t)=>new ge({innerType:e,typeName:_e.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...E(t)});class me extends S{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w(i)?i.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new o(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new o(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}me.create=(e,t)=>new me({innerType:e,typeName:_e.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...E(t)});class be extends S{_parse(e){if(this._getType(e)!==n.nan){const t=this._getOrReturnCtx(e);return f(t,{code:s.invalid_type,expected:n.nan,received:t.parsedType}),p}return{status:"valid",value:e.data}}}be.create=e=>new be({typeName:_e.ZodNaN,...E(e)});const ve=Symbol("zod_brand");class ye extends S{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class we extends S{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?p:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new we({in:e,out:t,typeName:_e.ZodPipeline})}}const xe=(e,t={},n)=>e?$.create().superRefine(((i,r)=>{var a,s;if(!e(i)){const e="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s,l="string"==typeof e?{message:e}:e;r.addIssue({code:"custom",...l,fatal:o})}})):$.create(),ke={object:X.lazycreate};var _e;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(_e||(_e={}));const Ee=A.create,Se=F.create,Te=be.create,Ce=R.create,Pe=N.create,Ie=M.create,Oe=W.create,je=D.create,ze=B.create,Le=$.create,Ae=V.create,Ze=U.create,Fe=K.create,Re=H.create,Ne=X.create,Me=X.strictCreate,We=J.create,De=G.create,Be=ee.create,$e=te.create,Ve=ne.create,Ue=ie.create,Ke=re.create,He=ae.create,qe=se.create,Xe=oe.create,Je=de.create,Ye=ce.create,Ge=ue.create,Qe=fe.create,et=he.create,tt=pe.create,nt=fe.createWithPreprocess,it=we.create,rt={string:e=>A.create({...e,coerce:!0}),number:e=>F.create({...e,coerce:!0}),boolean:e=>N.create({...e,coerce:!0}),bigint:e=>R.create({...e,coerce:!0}),date:e=>M.create({...e,coerce:!0})},at=p;var st=Object.freeze({__proto__:null,defaultErrorMap:l,setErrorMap:function(e){d=e},getErrorMap:c,makeIssue:u,EMPTY_PATH:[],addIssueToContext:f,ParseStatus:h,INVALID:p,DIRTY:g,OK:m,isAborted:b,isDirty:v,isValid:y,isAsync:w,get util(){return e},get objectUtil(){return t},ZodParsedType:n,getParsedType:i,ZodType:S,ZodString:A,ZodNumber:F,ZodBigInt:R,ZodBoolean:N,ZodDate:M,ZodSymbol:W,ZodUndefined:D,ZodNull:B,ZodAny:$,ZodUnknown:V,ZodNever:U,ZodVoid:K,ZodArray:H,ZodObject:X,ZodUnion:J,ZodDiscriminatedUnion:G,ZodIntersection:ee,ZodTuple:te,ZodRecord:ne,ZodMap:ie,ZodSet:re,ZodFunction:ae,ZodLazy:se,ZodLiteral:oe,ZodEnum:de,ZodNativeEnum:ce,ZodPromise:ue,ZodEffects:fe,ZodTransformer:fe,ZodOptional:he,ZodNullable:pe,ZodDefault:ge,ZodCatch:me,ZodNaN:be,BRAND:ve,ZodBranded:ye,ZodPipeline:we,custom:xe,Schema:S,ZodSchema:S,late:ke,get ZodFirstPartyTypeKind(){return _e},coerce:rt,any:Le,array:Re,bigint:Ce,boolean:Pe,date:Ie,discriminatedUnion:De,effect:Qe,enum:Je,function:He,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>xe((t=>t instanceof e),t),intersection:Be,lazy:qe,literal:Xe,map:Ue,nan:Te,nativeEnum:Ye,never:Ze,null:ze,nullable:tt,number:Se,object:Ne,oboolean:()=>Pe().optional(),onumber:()=>Se().optional(),optional:et,ostring:()=>Ee().optional(),pipeline:it,preprocess:nt,promise:Ge,record:Ve,set:Ke,strictObject:Me,string:Ee,symbol:Oe,transformer:Qe,tuple:$e,undefined:je,union:We,unknown:Ae,void:Fe,NEVER:at,ZodIssueCode:s,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:o});const ot=st.record(st.string()).nullable(),lt=st.object({id:st.string().nonempty(),name:st.string().nonempty(),monthlySpend:st.number().min(0).optional(),createdAt:st.string().optional(),customFields:ot.optional()}),dt=st.object({organization:st.string().nonempty(),email:st.string().email().nonempty(),name:st.string().nonempty(),id:st.string().nonempty(),profilePicture:st.string().url().nullable().optional(),createdAt:st.string().optional(),customFields:ot.optional(),companies:st.array(lt).optional()});var ct=r(379),ut=r.n(ct),ft=r(795),ht=r.n(ft),pt=r(569),gt=r.n(pt),mt=r(565),bt=r.n(mt),vt=r(216),yt=r.n(vt),wt=r(589),xt=r.n(wt),kt=r(608),_t={};_t.styleTagTransform=xt(),_t.setAttributes=bt(),_t.insert=gt().bind(null,"head"),_t.domAPI=ht(),_t.insertStyleElement=yt();ut()(kt.Z,_t);kt.Z&&kt.Z.locals&&kt.Z.locals;class Et{constructor(e){this.organization=e.organization,this.iframe=null,this.overlay=null,this.popper=null,this.activeSubmissionId=e.submissionId||null}initialize(){this.setupIframeEmbed(),this.setupListeners()}setupIframeEmbed(){const e=this.setupOverlay();this.popper=document.createElement("div"),this.popper.setAttribute("id","featurebase-popup-iframe"),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("src",`https://${this.organization}.featurebase.app/popup`),this.iframe.setAttribute("class","featurebase-popup-iframe"),this.iframe.setAttribute("referrerPolicy","origin"),this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.popper.appendChild(this.iframe),this.popper.appendChild(e),document.body.appendChild(this.popper)}setupOverlay(){const e=this;return this.overlay=document.createElement("div"),this.overlay.setAttribute("id","featurebase-popup-overlay"),this.overlay.setAttribute("class","featurebase-popup-overlay fb-fade-in"),this.overlay.addEventListener("click",(function(){e.togglePopup()})),this.overlay}setupListeners(){window.addEventListener("message",this.handlePostMessage.bind(this))}togglePopup(){this.iframe&&(this.iframe.classList.contains("featurebase-popup-iframe-show")?this.closePopup():this.openPopup())}openPopup(){var e,t,n,i,r;this.popper&&(null===(e=this.iframe)||void 0===e||e.classList.add("featurebase-popup-iframe-show"),null===(t=this.overlay)||void 0===t||t.style.setProperty("display","block"),null===(n=this.iframe)||void 0===n||n.setAttribute("src",`https://${this.organization}.featurebase.app/popup/${this.activeSubmissionId}`),null===(r=null===(i=this.iframe)||void 0===i?void 0:i.contentWindow)||void 0===r||r.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"))}closePopup(){var e,t;this.popper&&(null===(e=this.iframe)||void 0===e||e.classList.remove("featurebase-popup-iframe-show"),null===(t=this.overlay)||void 0===t||t.style.setProperty("display","none"))}handlePostMessage(e){if(e.preventDefault(),e.data&&"FeaturebasePopup"===e.data.target)switch(e.data.data.action){case"openPopup":const t=e.data.data.submissionId;e.data.data.organization;if(!t)return void console.error("[Featurebase Popup] Missing submissionId in postMessage.");this.activeSubmissionId=t,this.openPopup();break;case"closePopup":this.closePopup();break;default:return}}}var St=r(145),Tt={};Tt.styleTagTransform=xt(),Tt.setAttributes=bt(),Tt.insert=gt().bind(null,"head"),Tt.domAPI=ht(),Tt.insertStyleElement=yt();ut()(St.Z,Tt);St.Z&&St.Z.locals&&St.Z.locals;const Ct=()=>window&&window.FEATUREBASE_ENV&&"development"===window.FEATUREBASE_ENV?"development":"production";class Pt{constructor(e){this.openIcon='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M16 28C14.4241 28 12.8637 27.6896 11.4078 27.0866C9.95189 26.4835 8.62902 25.5996 7.51472 24.4853C6.40042 23.371 5.5165 22.0481 4.91345 20.5922C4.31039 19.1363 4 17.5759 4 16C4 14.4241 4.31039 12.8637 4.91345 11.4078C5.5165 9.95189 6.40042 8.62902 7.51472 7.51472C8.62902 6.40042 9.95189 5.5165 11.4078 4.91345C12.8637 4.31039 14.4241 4 16 4C19.1826 4 22.2348 5.26428 24.4853 7.51472C26.7357 9.76516 28 12.8174 28 16C28 19.1826 26.7357 22.2348 24.4853 24.4853C22.2348 26.7357 19.1826 28 16 28Z" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> <path d="M13.333 13.3334C12.6663 12 9.99967 12 9.33301 13.3334" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> <path d="M22.667 13.3334C22.0003 12 19.3337 12 18.667 13.3334" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> <path d="M19.3337 20C18.8992 20.4435 18.3805 20.7958 17.8082 21.0363C17.2358 21.2768 16.6212 21.4007 16.0003 21.4007C15.3795 21.4007 14.7649 21.2768 14.1925 21.0363C13.6201 20.7958 13.1015 20.4435 12.667 20" stroke="white" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/> </svg>',this.closeIcon='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#fff" viewBox="0 0 256 256"><line x1="200" y1="56" x2="56" y2="200" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="20"></line><line x1="200" y1="200" x2="56" y2="56" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="20"></line></svg>',this.config=e,this.iframe=null,this.overlay=null,this.popper=null,this.buttonIFrame=null,this.openButton=null,this.fullscreenXButton=null,this.config.placement||(this.config.placement="right"),this.config.initialPage||(this.config.initialPage="MainView"),this.config.fullScreen||(this.config.fullScreen=!1),this.config.disableCloseBtn||(this.config.disableCloseBtn=!1)}initialize(){this.setupIframeEmbed(),this.setupListeners()}setupIframeEmbed(){if(this.iframe)return;const e=this.setupOverlay();this.setCSSVariables(),this.popper=document.createElement("div"),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("class","featurebase-widget-iframe"),this.iframe.setAttribute("referrerPolicy","origin"),this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-storage-access-by-user-activation allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals");const t="production"===Ct()?new URL(`https://${this.config.organization}.featurebase.app/widget`):new URL(`http://${this.config.organization}.localhost:3000/widget`);this.config.initialPage&&t.searchParams.append("page",this.config.initialPage),this.config.jwtToken&&t.searchParams.append("jwt",this.config.jwtToken),this.iframe.setAttribute("src",t.toString()),this.setupFullscreenButton(),this.popper.appendChild(e),this.popper.appendChild(this.iframe),!this.config.disableCloseBtn&&this.fullscreenXButton&&this.popper.appendChild(this.fullscreenXButton),document.body.appendChild(this.popper)}setCSSVariables(){const e=document.documentElement;this.config.fullScreen?(e.style.setProperty("--featurebase-widget-max-height","100%"),e.style.setProperty("--featurebase-widget-width","580px"),e.style.setProperty("--featurebase-widget-bottom","0px"),e.style.setProperty("--featurebase-widget-height","100vh"),e.style.setProperty("--featurebase-widget-border-radius","0px")):(e.style.setProperty("--featurebase-widget-max-height","700px"),e.style.setProperty("--featurebase-widget-bottom","75px"),e.style.setProperty("--featurebase-widget-height","75vh"),e.style.setProperty("--featurebase-widget-width","420px"),e.style.setProperty("--featurebase-widget-border-radius","16px")),"left"===this.config.placement?(e.style.setProperty("--featurebase-widget-button-left","15px"),e.style.setProperty("--featurebase-widget-button-right","auto"),e.style.setProperty("--featurebase-widget-left","15px"),e.style.setProperty("--featurebase-widget-right","auto"),e.style.setProperty("--featurebase-widget-fullscreen-x-left","520px"),e.style.setProperty("--featurebase-widget-fullscreen-x-right","auto"),this.config.fullScreen&&(e.style.setProperty("--featurebase-widget-keyframe-from","-580px"),e.style.setProperty("--featurebase-widget-keyframe-to","0px"),e.style.setProperty("--featurebase-widget-left","0px"),e.style.setProperty("--featurebase-widget-right","auto"))):(e.style.setProperty("--featurebase-widget-button-left","auto"),e.style.setProperty("--featurebase-widget-button-right","15px"),e.style.setProperty("--featurebase-widget-left","auto"),e.style.setProperty("--featurebase-widget-right","15px"),e.style.setProperty("--featurebase-widget-fullscreen-x-left","auto"),e.style.setProperty("--featurebase-widget-fullscreen-x-right","30px"),this.config.fullScreen&&(e.style.setProperty("--featurebase-widget-fadein-animation","fadeInX"),e.style.setProperty("--featurebase-widget-keyframe-from","580px"),e.style.setProperty("--featurebase-widget-keyframe-to","0px"),e.style.setProperty("--featurebase-widget-right","0px")))}setupFloatingOpenButton(e){const t=this;this.buttonIFrame=document.createElement("iframe"),this.buttonIFrame.setAttribute("class","featurebase-widget-button-iframe");const n=document.createElement("style");n.innerHTML="\n    html, body, button{\n      margin: 0;\n      padding: 0;\n      width: 50px;\n    height: 50px;\n      border: none;\n      outline: none;\n      display: flex;\n      cursor: pointer;\n      appearance: none;\n      overflow: hidden;\n      align-items: center;\n     justify-content: center;\n    }",this.openButton=document.createElement("button"),this.openButton.innerHTML=this.openIcon,this.openButton.style.background=e||"#4a90e2",this.openButton.addEventListener("click",(function(){t.toggleWidget()})),this.iframe&&(this.config.fullScreen?(this.iframe.style.transformOrigin="right"===this.config.placement?"right":"left",this.iframe.style.transition="transform cubic-bezier(0, 0.3, 0.6, 1) 0.3s, opacity 0.1s ease-in-out, visibility 0.3s linear"):(this.iframe.style.transform="scale(0.1)",this.iframe.style.transformOrigin="right"===this.config.placement?"bottom right":"bottom left",this.iframe.style.transition="transform cubic-bezier(0, 1.2, 1, 1) 0.3s, opacity 0.1s ease-in-out, visibility 0.3s linear",this.iframe.style.boxShadow="rgba(0, 0, 0, 0.16) 0px 5px 40px")),this.buttonIFrame.onload=function(){var e,i,r,a,s;null!==t.buttonIFrame&&(null===(s=t.buttonIFrame)||void 0===s?void 0:s.contentDocument)&&(t.openButton&&(null===(i=null===(e=t.buttonIFrame)||void 0===e?void 0:e.contentDocument)||void 0===i||i.body.appendChild(t.openButton)),null===(a=null===(r=t.buttonIFrame)||void 0===r?void 0:r.contentDocument)||void 0===a||a.head.appendChild(n))},(null==this?void 0:this.popper)&&(this.buttonIFrame&&(null==this||this.popper.appendChild(this.buttonIFrame)),(this.config.selector||document.querySelector("button[data-featurebase-feedback-portal]"))&&this.buttonIFrame&&(this.buttonIFrame.style.display="none"))}setupFullscreenButton(){var e,t;const n=this;this.fullscreenXButton=document.createElement("button"),this.fullscreenXButton.innerHTML=this.closeIcon,this.fullscreenXButton.addEventListener("click",(function(){n.toggleWidget()})),this.fullscreenXButton.setAttribute("class","fb-widget-fullscreen-x fb-button-x-fade-in"),this.fullscreenXButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="#fff" style="display:block !important; \n margin: 0 !important; \n padding: 0 !important;"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>',this.iframe&&("right"===this.config.placement?(this.iframe.style.transform="translateX(500px)",null===(e=this.fullscreenXButton)||void 0===e||e.classList.add("fb-widget-fullscreen-x-right")):(this.iframe.style.transform="translateX(-500px)",null===(t=this.fullscreenXButton)||void 0===t||t.classList.add("fb-widget-fullscreen-x-left")))}setupOverlay(){const e=this;return this.overlay=document.createElement("div"),this.overlay.setAttribute("id","featurebase-widget-overlay"),this.overlay.setAttribute("class","featurebase-widget-overlay fb-widget-fade-in"),this.overlay.addEventListener("click",(function(){e.toggleWidget()})),this.overlay}setupListeners(){const e=this;document.addEventListener("click",(function(t){e.handleGlobalClickEvent(t)})),window.addEventListener("message",this.handlePostMessage.bind(this))}handleGlobalClickEvent(e){if(e&&e.target){var t=[];this.config.selector&&t.push(...document.querySelectorAll(this.config.selector)),t.push(...document.querySelectorAll("button[data-featurebase-feedback-portal]"));for(var n=0;n<t.length;n++){var i=t[n];if(e.target===t[n]||i.contains(e.target))return this.toggleWidget()}}}toggleWidget(){var e,t,n,i;this.iframe&&(this.iframe.classList.contains("featurebase-widget-iframe-show")?(this.closeWidget(),null===(e=this.buttonIFrame)||void 0===e||e.classList.remove("fb-widget-opened-toggle-button"),this.config.fullScreen?(null===(t=this.buttonIFrame)||void 0===t||t.classList.remove("fb-widget-hide-toggle-button"),"right"===this.config.placement?this.iframe.style.transform="translateX(500px)":this.iframe.style.transform="translateX(-500px)"):this.iframe.style.transform="scale(0.1)"):(this.openWidget(),this.config.fullScreen?(null===(n=this.buttonIFrame)||void 0===n||n.classList.add("fb-widget-hide-toggle-button"),this.iframe.style.transform="translateX(0px)"):(null===(i=this.buttonIFrame)||void 0===i||i.classList.add("fb-widget-opened-toggle-button"),this.iframe.style.transform="scale(1)")))}openWidget(){var e,t,n;this.popper&&this.iframe&&(this.iframe.classList.add("featurebase-widget-iframe-show"),this.config.fullScreen&&this.overlay&&(this.overlay.style.display="block"),this.openButton&&(this.openButton.innerHTML=this.closeIcon),null===(t=null===(e=this.iframe)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"),this.config.fullScreen&&this.fullscreenXButton&&(this.fullscreenXButton.style.display="block"),(this.config.selector||document.querySelector("button[data-featurebase-feedback-portal]"))&&(null===(n=this.buttonIFrame)||void 0===n||n.setAttribute("style","display:block")))}closeWidget(){var e,t;this.popper&&this.iframe&&(this.iframe.classList.remove("featurebase-widget-iframe-show"),this.config.fullScreen&&(null===(e=this.overlay)||void 0===e||e.style.setProperty("display","none")),this.openButton&&(this.openButton.innerHTML=this.openIcon),this.config.fullScreen&&this.fullscreenXButton&&(this.fullscreenXButton.style.display="none"),(this.config.selector||document.querySelector("button[data-featurebase-feedback-portal]"))&&(null===(t=this.buttonIFrame)||void 0===t||t.setAttribute("style","display:none")))}handlePostMessage(e){var t,n,i,r,a,s,o,l;if(e.preventDefault(),e.data&&"FeaturebaseWidget"===e.data.target)switch(e.data.data.action){case"changePage":null===(n=null===(t=this.iframe)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage({target:"FeaturebaseWidget",data:e.data.data},"*"),e.data.data.openWidget&&(this.openWidget(),null===(r=null===(i=this.iframe)||void 0===i?void 0:i.contentWindow)||void 0===r||r.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*"));break;case"openWidget":this.openWidget(),null===(s=null===(a=this.iframe)||void 0===a?void 0:a.contentWindow)||void 0===s||s.postMessage({target:"FeaturebaseWidget",data:{action:"widgetOpened"}},"*");break;case"closeWidget":this.closeWidget();break;case"toggleWidget":this.toggleWidget();break;case"initializePortalOrg":!(null==this?void 0:this.popper)||this.buttonIFrame||this.config.fullScreen||this.setupFloatingOpenButton(e.data.data.data.color);break;case"requestJwt":this.config.jwtToken&&(null===(l=null===(o=this.iframe)||void 0===o?void 0:o.contentWindow)||void 0===l||l.postMessage({target:"FeaturebaseWidget",data:{action:"jwtAuth",payload:this.config.jwtToken}},"*"));break;default:return}}}function It(e){const t=new Pt(e);return t.initialize(),t}const Ot=st.object({organization:st.string(),initialPage:st.enum(["MainView","CreatePost","PostsView","ChangelogView","RoadmapView"]),placement:st.enum(["left","right"]),selector:st.string().optional(),fullScreen:st.boolean().optional(),jwtToken:st.string().optional(),disableCloseBtn:st.boolean().optional()}),jt=st.object({organization:st.string().nonempty(),placement:st.enum(["bottom","top","left","right","auto"]).optional(),theme:st.string().nonempty(),fullscreenPopup:st.boolean().optional(),usersName:st.string().optional(),alwaysShow:st.boolean().optional()});var zt=r(457),Lt={};Lt.styleTagTransform=xt(),Lt.setAttributes=bt(),Lt.insert=gt().bind(null,"head"),Lt.domAPI=ht(),Lt.insertStyleElement=yt();ut()(zt.Z,Lt);zt.Z&&zt.Z.locals&&zt.Z.locals;function At(e){return e.split("-")[1]}function Zt(e){return"y"===e?"height":"width"}function Ft(e){return e.split("-")[0]}function Rt(e){return["top","bottom"].includes(Ft(e))?"x":"y"}function Nt(e,t,n){let{reference:i,floating:r}=e;const a=i.x+i.width/2-r.width/2,s=i.y+i.height/2-r.height/2,o=Rt(t),l=Zt(o),d=i[l]/2-r[l]/2,c="x"===o;let u;switch(Ft(t)){case"top":u={x:a,y:i.y-r.height};break;case"bottom":u={x:a,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:s};break;case"left":u={x:i.x-r.width,y:s};break;default:u={x:i.x,y:i.y}}switch(At(t)){case"start":u[o]-=d*(n&&c?-1:1);break;case"end":u[o]+=d*(n&&c?-1:1)}return u}const Mt=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:u}=Nt(d,i,l),f=i,h={},p=0;for(let n=0;n<o.length;n++){const{name:a,fn:g}=o[n],{x:m,y:b,data:v,reset:y}=await g({x:c,y:u,initialPlacement:i,placement:f,strategy:r,middlewareData:h,rects:d,platform:s,elements:{reference:e,floating:t}});c=null!=m?m:c,u=null!=b?b:u,h={...h,[a]:{...h[a],...v}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(f=y.placement),y.rects&&(d=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:r}):y.rects),({x:c,y:u}=Nt(d,f,l))),n=-1)}return{x:c,y:u,placement:f,strategy:r,middlewareData:h}};function Wt(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Dt(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Bt(e,t){var n;void 0===t&&(t={});const{x:i,y:r,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:f=!1,padding:h=0}=t,p=Wt(h),g=o[f?"floating"===u?"reference":"floating":u],m=Dt(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(g)))||n?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:d,rootBoundary:c,strategy:l})),b="floating"===u?{...s.floating,x:i,y:r}:s.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),y=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=Dt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:v,strategy:l}):b);return{top:(m.top-w.top+p.top)/y.y,bottom:(w.bottom-m.bottom+p.bottom)/y.y,left:(m.left-w.left+p.left)/y.x,right:(w.right-m.right+p.right)/y.x}}const $t=Math.min,Vt=Math.max;function Ut(e,t,n){return Vt(e,$t(t,n))}const Kt=["top","right","bottom","left"],Ht=Kt.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),qt={left:"right",right:"left",bottom:"top",top:"bottom"};function Xt(e){return e.replace(/left|right|bottom|top/g,(e=>qt[e]))}function Jt(e,t,n){void 0===n&&(n=!1);const i=At(e),r=Rt(e),a=Zt(r);let s="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Xt(s)),{main:s,cross:Xt(s)}}const Yt={start:"end",end:"start"};function Gt(e){return e.replace(/start|end/g,(e=>Yt[e]))}const Qt=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:o,elements:l}=t,{mainAxis:d=!0,crossAxis:c=!0,fallbackPlacements:u,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...g}=e,m=Ft(i),b=Ft(s)===s,v=await(null==o.isRTL?void 0:o.isRTL(l.floating)),y=u||(b||!p?[Xt(s)]:function(e){const t=Xt(e);return[Gt(e),t,Gt(t)]}(s));u||"none"===h||y.push(...function(e,t,n,i){const r=At(e);let a=function(e,t,n){const i=["left","right"],r=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:i:t?i:r;case"left":case"right":return t?a:s;default:return[]}}(Ft(e),"start"===n,i);return r&&(a=a.map((e=>e+"-"+r)),t&&(a=a.concat(a.map(Gt)))),a}(s,p,h,v));const w=[s,...y],x=await Bt(t,g),k=[];let _=(null==(n=r.flip)?void 0:n.overflows)||[];if(d&&k.push(x[m]),c){const{main:e,cross:t}=Jt(i,a,v);k.push(x[e],x[t])}if(_=[..._,{placement:i,overflows:k}],!k.every((e=>e<=0))){var E,S;const e=((null==(E=r.flip)?void 0:E.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n=null==(S=_.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:S.placement;if(!n)switch(f){case"bestFit":{var T;const e=null==(T=_.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}};const en=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:i}=t,r=await async function(e,t){const{placement:n,platform:i,elements:r}=e,a=await(null==i.isRTL?void 0:i.isRTL(r.floating)),s=Ft(n),o=At(n),l="x"===Rt(n),d=["left","top"].includes(s)?-1:1,c=a&&l?-1:1,u="function"==typeof t?t(e):t;let{mainAxis:f,crossAxis:h,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return o&&"number"==typeof p&&(h="end"===o?-1*p:p),l?{x:h*c,y:f*d}:{x:f*d,y:h*c}}(t,e);return{x:n+r.x,y:i+r.y,data:r}}}};function tn(e){return"x"===e?"y":"x"}const nn=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=e,d={x:n,y:i},c=await Bt(t,l),u=Rt(Ft(r)),f=tn(u);let h=d[u],p=d[f];if(a){const e="y"===u?"bottom":"right";h=Ut(h+c["y"===u?"top":"left"],h,h-c[e])}if(s){const e="y"===f?"bottom":"right";p=Ut(p+c["y"===f?"top":"left"],p,p-c[e])}const g=o.fn({...t,[u]:h,[f]:p});return{...g,data:{x:g.x-n,y:g.y-i}}}}},rn=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:r,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:d=!0}=e,c={x:n,y:i},u=Rt(r),f=tn(u);let h=c[u],p=c[f];const g="function"==typeof o?o(t):o,m="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const e="y"===u?"height":"width",t=a.reference[u]-a.floating[e]+m.mainAxis,n=a.reference[u]+a.reference[e]-m.mainAxis;h<t?h=t:h>n&&(h=n)}if(d){var b,v;const e="y"===u?"width":"height",t=["top","left"].includes(Ft(r)),n=a.reference[f]-a.floating[e]+(t&&(null==(b=s.offset)?void 0:b[f])||0)+(t?0:m.crossAxis),i=a.reference[f]+a.reference[e]+(t?0:(null==(v=s.offset)?void 0:v[f])||0)-(t?m.crossAxis:0);p<n?p=n:p>i&&(p=i)}return{[u]:h,[f]:p}}}};function an(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function sn(e){return an(e).getComputedStyle(e)}function on(e){return e instanceof an(e).Node}function ln(e){return on(e)?(e.nodeName||"").toLowerCase():""}let dn;function cn(){if(dn)return dn;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(dn=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),dn):navigator.userAgent}function un(e){return e instanceof an(e).HTMLElement}function fn(e){return e instanceof an(e).Element}function hn(e){return"undefined"!=typeof ShadowRoot&&(e instanceof an(e).ShadowRoot||e instanceof ShadowRoot)}function pn(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function gn(e){return["table","td","th"].includes(ln(e))}function mn(e){const t=/firefox/i.test(cn()),n=sn(e),i=n.backdropFilter||n.WebkitBackdropFilter;return"none"!==n.transform||"none"!==n.perspective||!!i&&"none"!==i||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter||["transform","perspective"].some((e=>n.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=n.contain;return null!=t&&t.includes(e)}))}function bn(){return/^((?!chrome|android).)*safari/i.test(cn())}function vn(e){return["html","body","#document"].includes(ln(e))}const yn=Math.min,wn=Math.max,xn=Math.round;function kn(e){const t=sn(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=un(e),a=r?e.offsetWidth:n,s=r?e.offsetHeight:i,o=xn(n)!==a||xn(i)!==s;return o&&(n=a,i=s),{width:n,height:i,fallback:o}}function _n(e){return fn(e)?e:e.contextElement}const En={x:1,y:1};function Sn(e){const t=_n(e);if(!un(t))return En;const n=t.getBoundingClientRect(),{width:i,height:r,fallback:a}=kn(t);let s=(a?xn(n.width):n.width)/i,o=(a?xn(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}function Tn(e,t,n,i){var r,a;void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),o=_n(e);let l=En;t&&(i?fn(i)&&(l=Sn(i)):l=Sn(e));const d=o?an(o):window,c=bn()&&n;let u=(s.left+(c&&(null==(r=d.visualViewport)?void 0:r.offsetLeft)||0))/l.x,f=(s.top+(c&&(null==(a=d.visualViewport)?void 0:a.offsetTop)||0))/l.y,h=s.width/l.x,p=s.height/l.y;if(o){const e=an(o),t=i&&fn(i)?an(i):i;let n=e.frameElement;for(;n&&i&&t!==e;){const e=Sn(n),t=n.getBoundingClientRect(),i=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(i.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(i.paddingTop))*e.y,u*=e.x,f*=e.y,h*=e.x,p*=e.y,u+=t.x,f+=t.y,n=an(n).frameElement}}return Dt({width:h,height:p,x:u,y:f})}function Cn(e){return((on(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pn(e){return fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function In(e){return Tn(Cn(e)).left+Pn(e).scrollLeft}function On(e){if("html"===ln(e))return e;const t=e.assignedSlot||e.parentNode||hn(e)&&e.host||Cn(e);return hn(t)?t.host:t}function jn(e){const t=On(e);return vn(t)?t.ownerDocument.body:un(t)&&pn(t)?t:jn(t)}function zn(e,t){var n;void 0===t&&(t=[]);const i=jn(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),a=an(i);return r?t.concat(a,a.visualViewport||[],pn(i)?i:[]):t.concat(i,zn(i))}function Ln(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=an(e),i=Cn(e),r=n.visualViewport;let a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(r){a=r.width,s=r.height;const e=bn();(!e||e&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)i=function(e){const t=Cn(e),n=Pn(e),i=e.ownerDocument.body,r=wn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=wn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+In(e);const o=-n.scrollTop;return"rtl"===sn(i).direction&&(s+=wn(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:o}}(Cn(e));else if(fn(t))i=function(e,t){const n=Tn(e,!0,"fixed"===t),i=n.top+e.clientTop,r=n.left+e.clientLeft,a=un(e)?Sn(e):{x:1,y:1};return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:i*a.y}}(t,n);else{const n={...t};if(bn()){var r,a;const t=an(e);n.x-=(null==(r=t.visualViewport)?void 0:r.offsetLeft)||0,n.y-=(null==(a=t.visualViewport)?void 0:a.offsetTop)||0}i=n}return Dt(i)}function An(e,t){const n=On(e);return!(n===t||!fn(n)||vn(n))&&("fixed"===sn(n).position||An(n,t))}function Zn(e,t){return un(e)&&"fixed"!==sn(e).position?t?t(e):e.offsetParent:null}function Fn(e,t){const n=an(e);if(!un(e))return n;let i=Zn(e,t);for(;i&&gn(i)&&"static"===sn(i).position;)i=Zn(i,t);return i&&("html"===ln(i)||"body"===ln(i)&&"static"===sn(i).position&&!mn(i))?n:i||function(e){let t=On(e);for(;un(t)&&!vn(t);){if(mn(t))return t;t=On(t)}return null}(e)||n}function Rn(e,t,n){const i=un(t),r=Cn(t),a=Tn(e,!0,"fixed"===n,t);let s={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(i||!i&&"fixed"!==n)if(("body"!==ln(t)||pn(r))&&(s=Pn(t)),un(t)){const e=Tn(t,!0);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else r&&(o.x=In(r));return{x:a.left+s.scrollLeft-o.x,y:a.top+s.scrollTop-o.y,width:a.width,height:a.height}}const Nn={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const a="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let i=zn(e).filter((e=>fn(e)&&"body"!==ln(e))),r=null;const a="fixed"===sn(e).position;let s=a?On(e):e;for(;fn(s)&&!vn(s);){const t=sn(s),n=mn(s);n||"fixed"!==t.position||(r=null),(a?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||pn(s)&&!n&&An(e,s))?i=i.filter((e=>e!==s)):r=t,s=On(s)}return t.set(e,i),i}(t,this._c):[].concat(n),s=[...a,i],o=s[0],l=s.reduce(((e,n)=>{const i=Ln(t,n,r);return e.top=wn(i.top,e.top),e.right=yn(i.right,e.right),e.bottom=yn(i.bottom,e.bottom),e.left=wn(i.left,e.left),e}),Ln(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const r=un(n),a=Cn(n);if(n===a)return t;let s={scrollLeft:0,scrollTop:0},o={x:1,y:1};const l={x:0,y:0};if((r||!r&&"fixed"!==i)&&(("body"!==ln(n)||pn(a))&&(s=Pn(n)),un(n))){const e=Tn(n);o=Sn(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*o.x,height:t.height*o.y,x:t.x*o.x-s.scrollLeft*o.x+l.x,y:t.y*o.y-s.scrollTop*o.y+l.y}},isElement:fn,getDimensions:function(e){return kn(e)},getOffsetParent:Fn,getDocumentElement:Cn,getScale:Sn,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e;const r=this.getOffsetParent||Fn,a=this.getDimensions;return{reference:Rn(t,await r(n),i),floating:{x:0,y:0,...await a(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===sn(e).direction};class Mn{constructor(e){this.config=e,this.iframeElement=null,this.floatingElement=null,this.referenceElement=null,this.cleanupUpdate=null,this.unviewedChangelogCount=null,this.fullscreenOverlay=null,this.fullscreenIframeElement=null,this.updatePosition=this.updatePosition.bind(this)}initialize(){this.setupWidget(),this.setupListeners(),this.startBadgeCheckInterval()}setupWidget(){this.floatingElement||(this.floatingElement=document.createElement("div"),this.floatingElement.classList.add("fb-changelog-popup-hidden","fb-changelog-popup-wrapper"),this.floatingElement.style.background="dark"===this.config.theme?"#242837":"#fff",this.floatingElement.style.filter="dark"===this.config.theme?"drop-shadow(0 25px 25px rgb(0 0 0 / 0.45))":"drop-shadow(0 20px 13px rgb(0 0 0 / 0.1))",this.iframeElement=document.createElement("iframe"),"production"===Ct()?this.iframeElement.src=`https://${this.config.organization}.featurebase.app/widget/changelogWidgetSSR?theme=${this.config.theme}`:this.iframeElement.src=`http://${this.config.organization}.localhost:3000/widget/changelogWidgetSSR?theme=${this.config.theme}`,this.iframeElement.classList.add("fb-changelog-popup-iframe"),this.iframeElement.style.background="dark"===this.config.theme?"#242837":"#fff",this.floatingElement.tabIndex=-1,this.floatingElement.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.floatingElement.style.top="0px",this.floatingElement.style.left="0px",this.floatingElement.append(this.iframeElement),this.config.fullscreenPopup&&(this.fullscreenOverlay=document.createElement("div"),this.fullscreenOverlay.classList.add("fb-changelog-popup-overlay"),this.fullscreenOverlay.style.background="dark"===this.config.theme?"rgba(16 , 18, 25, 0.8)":"rgba(255, 255, 255, 0.1)",this.fullscreenOverlay.tabIndex=-1,this.fullscreenOverlay.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.fullscreenIframeElement=document.createElement("iframe"),"production"===Ct()?this.fullscreenIframeElement.src=`https://${this.config.organization}.featurebase.app/widget/changelogPopupSSR?theme=${this.config.theme}&name=${this.config.usersName}&alwaysShow=${this.config.alwaysShow}`:this.fullscreenIframeElement.src=`http://${this.config.organization}.localhost:3000/widget/changelogPopupSSR?theme=${this.config.theme}&name=${this.config.usersName}`,this.fullscreenIframeElement.classList.add("fb-changelog-popup-overlay-iframe"),this.fullscreenIframeElement.style.background="dark"===this.config.theme?"#242837":"#f5f6f9",this.fullscreenIframeElement.style.boxShadow="dark"===this.config.theme?" 0 25px 25px rgba(0, 0, 0, 0.25)":"0 15px 25px rgb(0 0 0 / 0.1)",this.fullscreenIframeElement.style.border="dark"===this.config.theme?"1px solid #32384D":"1px solid #DEE1EA",this.fullscreenOverlay.append(this.fullscreenIframeElement),this.fullscreenOverlay.classList.add("fb-changelog-popup-overlay-hidden"),document.body.appendChild(this.fullscreenOverlay)),this.referenceElement=document.querySelector("button[data-featurebase-changelog]"),document.body.appendChild(this.floatingElement))}handleClickEvent(e){var t,n,i,r;if(!e||!e.target)return;var a=e.target;if(this.config.fullscreenPopup&&(null==this?void 0:this.fullscreenOverlay)&&!(null===(n=null===(t=null==this?void 0:this.fullscreenOverlay)||void 0===t?void 0:t.classList)||void 0===n?void 0:n.contains("fb-changelog-popup-overlay-hidden"))&&(e.target===this.fullscreenIframeElement||(null===(i=this.fullscreenIframeElement)||void 0===i?void 0:i.contains(e.target))||(null===(r=this.fullscreenOverlay)||void 0===r||r.classList.add("fb-changelog-popup-overlay-hidden"),this.setAllAsViewed())),"handled"===this.handleOutsideClickEvent(a))return;const s=document.querySelectorAll("button[data-featurebase-changelog]");for(var o=0;o<s.length;o++){var l=s[o];if(e.target===s[o]||l.contains(e.target))return this.handleClickInsideButton(l)}}handleOutsideClickEvent(e){return e&&this.floatingElement&&this.floatingElement.classList.contains("fb-changelog-popup")&&!this.floatingElement.contains(e)&&this.referenceElement&&!this.referenceElement.contains(e)&&(this.floatingElement.classList.remove("fb-changelog-popup"),this.floatingElement.classList.add("fb-changelog-popup-hidden"),this.cleanupUpdate)?(this.cleanupUpdate(),this.cleanupUpdate=null,"handled"):"not-handled"}handleClickInsideButton(e){e&&(this.referenceElement=e,this.referenceElement&&this.floatingElement&&this.updatePosition&&(this.updatePosition(),this.floatingElement&&(this.floatingElement.classList.contains("fb-changelog-popup-hidden")?(this.cleanupUpdate=function(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:o=!1}=i,l=r||a?[...fn(e)?zn(e):e.contextElement?zn(e.contextElement):[],...zn(t)]:[];l.forEach((e=>{const t=!fn(e)&&e.toString().includes("V");!r||o&&!t||e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));let d,c=null;s&&(c=new ResizeObserver((()=>{n()})),fn(e)&&!o&&c.observe(e),fn(e)||!e.contextElement||o||c.observe(e.contextElement),c.observe(t));let u=o?Tn(e):null;return o&&function t(){const i=Tn(e);!u||i.x===u.x&&i.y===u.y&&i.width===u.width&&i.height===u.height||n(),u=i,d=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{r&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==(e=c)||e.disconnect(),c=null,o&&cancelAnimationFrame(d)}}(this.referenceElement,this.floatingElement,this.updatePosition),this.floatingElement.classList.remove("fb-changelog-popup-hidden"),this.floatingElement.classList.add("fb-changelog-popup")):(this.floatingElement.classList.remove("fb-changelog-popup"),this.floatingElement.classList.add("fb-changelog-popup-hidden"),this.cleanupUpdate&&(this.cleanupUpdate(),this.cleanupUpdate=null)))))}setupListeners(){const e=this;document.addEventListener("click",(function(t){e.handleClickEvent(t)}),!0),window.addEventListener("message",this.handleIframeMessage.bind(this),!1),this.config.fullscreenPopup&&(window.addEventListener("keydown",(function(t){e.handleKeyPressEvent(t)}),!0),window.addEventListener("resize",this.handleResizeEvent.bind(this)))}handleKeyPressEvent(e){var t,n;["0","1","2","3","4","5","6","7","8","9"].includes(e.key)&&this.fullscreenOverlay&&!this.fullscreenOverlay.classList.contains("fb-feedback-widget-overlay-hidden")&&(null===(n=null===(t=this.iframeElement)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage({target:"FeaturebaseWidget",data:{action:"numberKeyPress",key:e.key}},"*")),"Escape"===e.key&&this.fullscreenOverlay&&!this.fullscreenOverlay.classList.contains("fb-feedback-widget-overlay-hidden")&&(this.fullscreenOverlay.classList.add("fb-changelog-popup-overlay-hidden"),this.setAllAsViewed())}handleResizeEvent(){var e,t,n;if(null===(e=this.fullscreenIframeElement)||void 0===e?void 0:e.contentWindow){const e=document.body.offsetWidth;null===(n=null===(t=null==this?void 0:this.fullscreenIframeElement)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage({target:"FeaturebaseWidget",data:{action:"viewportResized",width:e}},"*")}}setAllAsViewed(){var e,t;null===(t=null===(e=null==this?void 0:this.fullscreenIframeElement)||void 0===e?void 0:e.contentWindow)||void 0===t||t.postMessage({target:"FeaturebaseWidget",data:{action:"setAsViewed"}},"*")}manuallyOpenChangelogPopup(){this.fullscreenOverlay&&this.fullscreenOverlay.classList.remove("fb-changelog-popup-overlay-hidden")}handleIframeMessage(e){var t,n,i,r;if(e.preventDefault(),e.data&&"FeaturebaseWidget"===e.data.target)switch(e.data.data.action){case"menuHeightChanged":this.floatingElement&&(this.floatingElement.style.height=`${e.data.data.data}px`,this.floatingElement.style.maxHeight=e.data.data.data>=350?"350px":`${e.data.data.data}px`);break;case"popupHeightChanged":this.fullscreenIframeElement&&(this.fullscreenIframeElement.style.height=`${e.data.data.data}px`);break;case"closeWidget":this.fullscreenOverlay&&this.fullscreenOverlay.classList.add("fb-changelog-popup-overlay-hidden");break;case"updateHasUpdates":if(!this.config.organization)return;localStorage.setItem("FBVisitedChangelogsTracker-"+this.config.organization,e.data.data.data);const a=document.getElementById("fb-update-badge");localStorage.getItem("FBVisitedChangelogsTracker")&&localStorage.removeItem("FBVisitedChangelogsTracker");const s=JSON.parse(localStorage.getItem("FBVisitedChangelogsTracker-"+this.config.organization)||localStorage.getItem("FBVisitedChangelogsTracker")||"{}");if(this.config.fullscreenPopup){(null===(t=null==s?void 0:s.unviewedChangelogs)||void 0===t?void 0:t.length)>=1&&(this.handleResizeEvent(),null===(n=this.fullscreenOverlay)||void 0===n||n.classList.remove("fb-changelog-popup-overlay-hidden"))}if(a){let e="";if(a){const t=null===(i=null==s?void 0:s.unviewedChangelogs)||void 0===i?void 0:i.length;e=t>=1?t:""}this.unviewedChangelogCount=(null===(r=null==s?void 0:s.unviewedChangelogs)||void 0===r?void 0:r.length)||0,a.innerHTML=e}break;default:return}}updatePosition(){if(this.referenceElement&&this.floatingElement){let e=[Qt(),nn({limiter:rn()}),en(8),nn({padding:8})];"auto"===this.config.placement&&e.push(function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,r;const{rects:a,middlewareData:s,placement:o,platform:l,elements:d}=t,{crossAxis:c=!1,alignment:u,allowedPlacements:f=Ht,autoAlignment:h=!0,...p}=e,g=void 0!==u||f===Ht?function(e,t,n){return(e?[...n.filter((t=>At(t)===e)),...n.filter((t=>At(t)!==e))]:n.filter((e=>Ft(e)===e))).filter((n=>!e||At(n)===e||!!t&&Gt(n)!==n))}(u||null,h,f):f,m=await Bt(t,p),b=(null==(n=s.autoPlacement)?void 0:n.index)||0,v=g[b];if(null==v)return{};const{main:y,cross:w}=Jt(v,a,await(null==l.isRTL?void 0:l.isRTL(d.floating)));if(o!==v)return{reset:{placement:g[0]}};const x=[m[Ft(v)],m[y],m[w]],k=[...(null==(i=s.autoPlacement)?void 0:i.overflows)||[],{placement:v,overflows:x}],_=g[b+1];if(_)return{data:{index:b+1,overflows:k},reset:{placement:_}};const E=k.map((e=>{const t=At(e.placement);return[e.placement,t&&c?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),S=(null==(r=E.filter((e=>e[2].slice(0,At(e[0])?2:3).every((e=>e<=0))))[0])?void 0:r[0])||E[0][0];return S!==o?{data:{index:b+1,overflows:k},reset:{placement:S}}:{}}}}()),((e,t,n)=>{const i=new Map,r={platform:Nn,...n},a={...r.platform,_c:i};return Mt(e,t,{...r,platform:a})})(this.referenceElement,this.floatingElement,{placement:"auto"!==this.config.placement?this.config.placement:void 0,middleware:e}).then((({x:e,y:t})=>{this.floatingElement&&Object.assign(this.floatingElement.style,{left:`${e}px`,top:`${t}px`})}))}}startBadgeCheckInterval(){setInterval((()=>{this.updateBadgeSpan()}),2500)}updateBadgeSpan(){var e;if(0===this.unviewedChangelogCount)return;let t=document.getElementById("fb-update-badge");t&&""===t.textContent&&(t.textContent=(null===(e=null==this?void 0:this.unviewedChangelogCount)||void 0===e?void 0:e.toString())||"")}}const Wn=st.object({organization:st.string().nonempty(),placement:st.enum(["bottom-right","bottom-left","left","right"]).optional(),theme:st.string().nonempty(),email:st.string().optional(),defaultBoard:st.string().optional(),jwtToken:st.string().default("").optional()}),Dn=st.object({organization:st.string().nonempty(),placement:st.enum(["left","right"]).optional(),initialPage:st.enum(["MainView","RoadmapView","CreatePost","PostsView","ChangelogView"]).default("MainView"),fullScreen:st.boolean().default(!1),jwtToken:st.string().default("").optional(),selector:st.string().optional(),disableCloseBtn:st.boolean().default(!1).optional()});var Bn=r(155),$n={};$n.styleTagTransform=xt(),$n.setAttributes=bt(),$n.insert=gt().bind(null,"head"),$n.domAPI=ht(),$n.insertStyleElement=yt();ut()(Bn.Z,$n);Bn.Z&&Bn.Z.locals&&Bn.Z.locals;class Vn{constructor(e){this.screenshot=null,this.feedbackButtonElement=null,this.getWidgetTheme=()=>this.config.theme,this.updateWidgetTheme=e=>{this.config.theme=e,this.overlayElement&&this.overlayElement.remove(),this.setupWidget()},this.config=e,this.overlayElement=null,this.iframeElement=null,this.feedbackButtonElement=null}initialize(){this.setupListeners(),this.setupWidget()}setupWidget(){this.overlayElement=document.createElement("div"),this.overlayElement.classList.add("fb-feedback-widget-overlay"),this.overlayElement.style.background="dark"===this.config.theme?"rgba(var(--fb-feedback-iframe-bg-color), 0.5)":"rgba(255, 255, 255, 0.05)",this.iframeElement=document.createElement("iframe");const e="production"===Ct()?new URL(`https://${this.config.organization}.featurebase.app/widget/feedbackWidgetSSR`):new URL(`http://${this.config.organization}.localhost:3000/widget/feedbackWidgetSSR`);e.searchParams.append("theme",this.config.theme),this.config.email&&e.searchParams.append("email",this.config.email),this.config.defaultBoard&&e.searchParams.append("defaultBoard",this.config.defaultBoard),this.iframeElement.src=e.toString(),this.iframeElement.classList.add("fb-feedback-widget-iframe"),this.iframeElement.style.background="dark"===this.config.theme?"rgba(var(--fb-feedback-iframe-bg-color), 1)":"rgba(245, 246, 249, 0.8)",this.iframeElement.style.boxShadow="dark"===this.config.theme?" 0 25px 25px rgba(0, 0, 0, 0.3)":"0px 17px 17px rgba(0, 0, 0, 0.1)",this.iframeElement.style.border="dark"===this.config.theme?"1px solid rgba(var(--fb-feedback-iframe-border-color), 1)":"1px solid #DEE1EA",this.overlayElement.tabIndex=-1,this.overlayElement.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.overlayElement.append(this.iframeElement),this.overlayElement.classList.add("fb-feedback-widget-overlay-hidden"),document.body.appendChild(this.overlayElement),this.iframeElement.focus()}toggleWidgetFeedbackButton(e){if(this.config.placement){const t=document.querySelector(".fb-feedback-widget-feedback-button-container");if(t)e&&t.remove();else{this.feedbackButtonElement=document.createElement("fbdiv"),this.feedbackButtonElement.classList.add("fb-feedback-widget-feedback-button-container");const e=document.createElement("fbdiv");e.classList.add("fb-feedback-widget-feedback-button"),"bottom-left"===this.config.placement?e.classList.add("fb-feedback-widget-feedback-button-bl"):"bottom-right"===this.config.placement?e.classList.add("fb-feedback-widget-feedback-button-br"):"right"===this.config.placement?e.classList.add("fb-feedback-widget-feedback-button-right"):"left"===this.config.placement&&e.classList.add("fb-feedback-widget-feedback-button-left"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="opacity:0.7;">\n        <path fill-rule="evenodd" d="M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5zM18 1.5a.75.75 0 01.728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 010 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 01-1.456 0l-.258-1.036a2.625 2.625 0 00-1.91-1.91l-1.036-.258a.75.75 0 010-1.456l1.036-.258a2.625 2.625 0 001.91-1.91l.258-1.036A.75.75 0 0118 1.5zM16.5 15a.75.75 0 01.712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 010 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 01-1.422 0l-.395-1.183a1.5 1.5 0 00-.948-.948l-1.183-.395a.75.75 0 010-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0116.5 15z" clip-rule="evenodd" />\n      </svg>\n       Feedback',this.feedbackButtonElement.append(e),document.body.appendChild(this.feedbackButtonElement)}}}toggleWidget(){this.overlayElement&&(this.overlayElement.classList.contains("fb-feedback-widget-overlay-hidden")?this.overlayElement.classList.remove("fb-feedback-widget-overlay-hidden"):this.overlayElement.classList.add("fb-feedback-widget-overlay-hidden"),this.iframeElement&&(null==this||this.iframeElement.focus()))}screenshotCallback(e){var t,n,i;0===e.length?(null===(t=this.screenshot)||void 0===t||t.toggleVisibility(!1),this.overlayElement&&this.overlayElement.classList.remove("fb-feedback-widget-overlay-hidden")):(null===(n=this.screenshot)||void 0===n||n.toggleVisibility(!1),this.overlayElement&&this.overlayElement.classList.remove("fb-feedback-widget-overlay-hidden"),this.iframeElement&&(null===(i=this.iframeElement.contentWindow)||void 0===i||i.postMessage({target:"FeaturebaseWidget",data:{action:"screenshotCallback",snapshot:e}},"*"))),this.toggleWidgetFeedbackButton()}handleIframeMessage(e){var t,n,i,a;if(e.preventDefault(),e.data&&"FeaturebaseWidget"===e.data.target)switch(e.data.data.action){case"menuHeightChangedFeedback":this.iframeElement&&(this.iframeElement.style.transition="height 0.95s ease, min-height 0.95s ease, opacity 0.2s ease",this.iframeElement.style.height=`${e.data.data.data}px`,this.iframeElement.style.minHeight=`${e.data.data.data}px`);break;case"menuHeightChangedFeedbackContent":this.iframeElement&&(this.iframeElement.style.height=`${e.data.data.data}px`,this.iframeElement.style.minHeight=`${e.data.data.data}px`,this.iframeElement.style.transition="height 0s ease-in, min-height 0.2s ease, opacity 0.2s ease");break;case"closeWidget":this.overlayElement&&this.overlayElement.classList.add("fb-feedback-widget-overlay-hidden");break;case"initializeOrg":this.overlayElement&&(document.documentElement.style.setProperty("--fb-feedback-button-bg-color",e.data.data.data.color),document.documentElement.style.setProperty("--fb-feedback-iframe-bg-color",null===(t=e.data.data.data)||void 0===t?void 0:t.background),document.documentElement.style.setProperty("--fb-feedback-iframe-border-color",null===(n=e.data.data.data)||void 0===n?void 0:n.borderColor),document.documentElement.style.setProperty("--fb-feedback-button-text-color",null===(i=e.data.data.data)||void 0===i?void 0:i.primaryForeground),this.toggleWidgetFeedbackButton());break;case"openFeedbackWidget":this.toggleWidget();break;case"startScreenshot":this.screenshot?(this.screenshot.resetEverything(),null===(a=this.screenshot)||void 0===a||a.activate(),null==this||this.toggleWidget(),this.toggleWidgetFeedbackButton(!0)):Promise.all([r.e(682),r.e(92),r.e(154)]).then(r.bind(r,313)).then((e=>{var t;this.screenshot=new e.default(this.screenshotCallback.bind(this)),null===(t=this.screenshot)||void 0===t||t.activate(),null==this||this.toggleWidget(),this.toggleWidgetFeedbackButton(!0)})).catch((e=>console.error("Error loading screenshot module:",e)));default:return}}handleClickEvent(e){if(!e||!e.target)return;if(e.target.matches(".fb-feedback-widget-feedback-button"))return this.toggleWidget();const t=document.querySelectorAll("button[data-featurebase-feedback]");for(var n=0;n<t.length;n++){var i=t[n];if(e.target===t[n]||i.contains(e.target))return this.toggleWidget()}}handleKeyPressEvent(e){var t,n;["0","1","2","3","4","5","6","7","8","9"].includes(e.key)&&this.overlayElement&&!this.overlayElement.classList.contains("fb-feedback-widget-overlay-hidden")&&(null===(n=null===(t=this.iframeElement)||void 0===t?void 0:t.contentWindow)||void 0===n||n.postMessage({target:"FeaturebaseWidget",data:{action:"numberKeyPress",key:e.key}},"*")),"Escape"===e.key&&this.overlayElement&&!this.overlayElement.classList.contains("fb-feedback-widget-overlay-hidden")&&this.toggleWidget()}setupListeners(){const e=this;document.addEventListener("click",(function(t){e.handleClickEvent(t)})),window.addEventListener("message",this.handleIframeMessage.bind(this),!1),window.addEventListener("keydown",(function(t){e.handleKeyPressEvent(t)}))}}var Un=r(702),Kn=r.n(Un);class Hn extends EventTarget{constructor(e){super(),this.initialPath="",this.generateConfigQueryParams=()=>{const e=new URLSearchParams;return this.config.hideLogo&&e.append("hideLogo","true"),this.config.hideMenu&&e.append("hideMenu","true"),this.config.theme&&e.append("theme",this.config.theme),this.config.jwtToken&&e.append("jwt",this.config.jwtToken),e.append("embed","true"),e},this.mergeQueryParams=(e,t)=>{if(!t)return e;if("string"==typeof t)try{t=new URLSearchParams(t)}catch(t){return console.error('[Featurebase SDK] Error with action: "embed". The filters you provided are not in a valid format. Skipping applying the filters. Error:',t.message),e}const n=new URL(e,"https://featurebase.app");for(let[e,i]of t)n.searchParams.has(e)||n.searchParams.append(e,i);return`${n.pathname}${n.search}${n.hash}`},this.config=e,this.config.basePath&&!this.config.basePath.startsWith("/")&&(this.config.basePath="/"+this.config.basePath),this.config.basePath&&this.config.basePath.endsWith("/")&&(this.config.basePath=this.config.basePath.substring(0,this.config.basePath.length-1)),this.config.filters&&this.config.filters.startsWith("/")&&(this.config.filters=this.config.filters.substring(1)),this.config.filters&&this.config.filters.startsWith("?")&&(this.config.filters=this.config.filters.substring(1));const t=window.location.pathname+window.location.search+window.location.hash;t&&this.config.basePath&&t.startsWith(this.config.basePath)&&(this.initialPath=t.substring(this.config.basePath.length)),this.iframe=null}initialize(){var e;const t=document.querySelector("[data-featurebase-embed]");((null===(e=null==t?void 0:t.childNodes)||void 0===e?void 0:e.length)||0)>0||(this.setupIframeEmbed(),this.setupListeners())}setupIframeEmbed(){if(this.iframe)return;var e=this;this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id","featurebase-embed-iframe"),this.iframe.setAttribute("class","featurebase-embed-iframe"),this.iframe.setAttribute("referrerPolicy","origin"),this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("height","1px"),this.iframe.setAttribute("style","display:none;"),this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-storage-access-by-user-activation allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-top-navigation allow-top-navigation-by-user-activation allow-modals"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("allow","clipboard-write"),this.iframe.onload=function(){e.iframe&&e.iframe.contentWindow&&e.config.jwtToken&&e.iframe.contentWindow.postMessage({type:"auth",jwt:e.config.jwtToken},"*")};const t=this.generateConfigQueryParams(),n=this.mergeQueryParams(this.initialPath||"",t);if(this.initialPath&&"/"!==this.initialPath)this.iframe.setAttribute("src","production"===Ct()?`https://${this.config.organization}.featurebase.app${n}`:`http://${this.config.organization}.localhost:3000${n}`);else if(this.config.initialPage){const e=this.mergeQueryParams(n,this.config.filters);switch(this.config.initialPage){case"Board":this.iframe.setAttribute("src","production"===Ct()?`https://${this.config.organization}.featurebase.app${e}`:`http://${this.config.organization}.localhost:3000${e}`);break;case"Roadmap":this.iframe.setAttribute("src","production"===Ct()?`https://${this.config.organization}.featurebase.app/roadmap${e}`:`http://${this.config.organization}.localhost:3000/roadmap${e}`);break;case"Changelog":this.iframe.setAttribute("src","production"===Ct()?`https://${this.config.organization}.featurebase.app/changelog${n}`:`http://${this.config.organization}.localhost:3000/changelog${n}`);break;default:this.iframe.setAttribute("src","production"===Ct()?`https://${this.config.organization}.featurebase.app${n}`:`http://${this.config.organization}.localhost:3000${n}`)}}else this.iframe.setAttribute("src","production"===Ct()?`https://${this.config.organization}.featurebase.app${n}`:`http://${this.config.organization}.localhost:3000${n}`);const i=document.querySelector("[data-featurebase-embed]");i?(i.appendChild(this.iframe),this.adjustIframeHeight()):(document.body.appendChild(this.iframe),Kn()({log:!1,onInit:()=>{e.iframe&&e.iframe.setAttribute("style","display:block;")},heightCalculationMethod:"lowestElement",checkOrigin:!1},this.iframe))}adjustIframeHeight(){const e=document.querySelector("[data-featurebase-embed]");if(e){var t=null==e?void 0:e.getBoundingClientRect().top;this.iframe&&(this.iframe.style.display="block",this.iframe.style.height="calc(100dvh - "+t+"px)",this.iframe.style.minHeight="800px")}}setupListeners(){var e;window.addEventListener("message",this.handlePostMessage.bind(this)),window.addEventListener("resize",this.adjustIframeHeight.bind(this));const t=this;null===(e=null==this?void 0:this.iframe)||void 0===e||e.addEventListener("load",(()=>{t.dispatchEvent(new Event("finishedLoading"))}))}handlePostMessage(e){e.preventDefault();const t=e.data;if(t&&"FeaturebaseEmbed"===t.target&&"routeChange"===t.action){if(!this.config.basePath)return;const e=(this.config.basePath||"")+t.url;window.history.pushState({},"",e)}}}const qn=st.object({organization:st.string().nonempty(),basePath:st.string().nullable().default("").optional(),jwtToken:st.string().nullable().default("").optional(),hideMenu:st.boolean().default(!1).optional(),hideLogo:st.boolean().default(!1).optional(),initialPage:st.enum(["Board","Roadmap","Changelog"]).default("Board"),filters:st.string().nullable().default("").optional(),theme:st.enum(["light","dark",""]).nullable().default("").optional()}),Xn=(st.union([st.literal("text"),st.literal("link"),st.literal("rating"),st.literal("multiple-choice")]),st.string()),Jn=st.object({_id:Xn,type:st.string(),title:st.string(),description:st.string().optional()}),Yn=Jn.extend({type:st.literal("text"),placeholder:st.string()}),Gn=Jn.extend({type:st.literal("link"),linkButtonText:st.string(),linkRedirectUrl:st.string(),linkTarget:st.enum(["_blank","_self"])}),Qn=Jn.extend({type:st.literal("rating"),subType:st.enum(["number","emoji"]),scale:st.number(),lowLabel:st.string(),highLabel:st.string()}),ei=st.object({_id:Xn,choice:st.string()}),ti=Jn.extend({type:st.literal("multiple-choice"),subType:st.enum(["generic","featurebase-posts"]),allowSelectMultiple:st.boolean(),choices:st.array(ei)}),ni=st.union([Yn,Gn,Qn,ti]),ii=st.object({isActive:st.boolean(),organization:Xn,title:st.string(),description:st.string().optional(),targeting:st.object({segmentIds:st.array(Xn).default([]),url:st.array(st.object({value:st.string(),matchType:st.enum(["exact","contains","regex"])})).default([]),css:st.array(st.object({value:st.string()})).default([]),loginRequired:st.boolean().default(!1)}).nullish(),pages:st.array(ni),_id:Xn}),ri=st.object({success:st.boolean(),surveys:st.array(ii).default([]),message:st.string().optional()}).passthrough(),ai=st.enum(["bottom-left","bottom-right"]).default("bottom-right").nullish(),si=st.object({organization:st.string(),email:st.string().nullish(),jwtToken:st.string().nullish(),placement:ai,theme:st.string().optional()}),oi=st.object({context:si,survey:ii});var li=r(357),di={};di.styleTagTransform=xt(),di.setAttributes=bt(),di.insert=gt().bind(null,"head"),di.domAPI=ht(),di.insertStyleElement=yt();ut()(li.Z,di);li.Z&&li.Z.locals&&li.Z.locals;class ci{constructor(e){this.heightReceivedForTheFirstTime=!0,this.previousHeight=0,this.linkToOpenOnClose=null,this.surveyCloseCallback=()=>{},this.config=e,this.iframeElement=null,this.widgetWrapper=null,this.iframeWrapper=null,this.closeButton=null}initialize(){try{if(JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]").includes(this.config.survey._id))return}catch(e){}this.setupListeners(),this.setupWidget()}closeWidget(e="dismiss"){if(this.widgetWrapper){if("dismiss"===e){const e="production"===Ct()?`https://${this.config.context.organization}.featurebase.app/api/v1/organization/advancedSurvey/s`:`http://${this.config.context.organization}.localhost:3000/api/v1/organization/advancedSurvey/s`;fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surveyId:this.config.survey._id,type:"dismiss",jwt:this.config.context.jwtToken,email:this.config.context.email})})}try{const e=JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]");e.push(this.config.survey._id),localStorage.setItem("featurebaseRespondedSurveys",JSON.stringify(e))}catch(e){}this.linkToOpenOnClose&&window.open(this.linkToOpenOnClose,"_self"),this.widgetWrapper.style.opacity="0",setTimeout((()=>{var e;return null===(e=this.widgetWrapper)||void 0===e?void 0:e.remove()}),1e3),this.surveyCloseCallback&&this.surveyCloseCallback()}}setupWidget(){if(document.getElementById("fb-survey-widget-iframe"))return void console.warn("[Featurebase SDK] An instance of survey widget already exists.");this.widgetWrapper=document.createElement("fbdiv"),this.widgetWrapper.id="fb-survey-widget-wrapper",this.widgetWrapper.classList.add("fb-survey-widget-wrapper"),this.widgetWrapper.style.visibility="hidden",this.iframeWrapper=document.createElement("fbdiv"),this.iframeWrapper.id="fb-survey-widget-iframe-wrapper",this.iframeWrapper.classList.add("fb-survey-widget-iframe-wrapper"),this.closeButton=document.createElement("fbdiv"),this.closeButton.id="fb-survey-widget-close",this.closeButton.classList.add("fb-survey-widget-close"),this.closeButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" /></svg>',this.closeButton.addEventListener("click",(()=>this.closeWidget())),this.iframeElement=document.createElement("iframe"),this.iframeElement.frameBorder="0";const e="production"===Ct()?new URL(`https://${this.config.context.organization}.featurebase.app/widget/surveySSR`):new URL(`http://${this.config.context.organization}.localhost:3000/widget/surveySSR`);this.config.context.jwtToken?e.searchParams.append("jwt",this.config.context.jwtToken):this.config.context.email&&e.searchParams.append("email",this.config.context.email),this.config.context.theme&&(e.searchParams.append("theme",this.config.context.theme),document.documentElement.style.setProperty("--featurebase-survey-widget-close-btn-color","light"===this.config.context.theme?"black":"white")),"bottom-left"===this.config.context.placement&&(document.documentElement.style.setProperty("--featurebase-survey-widget-wrapper-right","auto"),document.documentElement.style.setProperty("--featurebase-survey-widget-wrapper-left","var(--featurebase-survey-widget-horizontal-padding)"));const t=btoa(JSON.stringify(this.config.survey));e.searchParams.append("surveyData",t),this.iframeElement.src=e.toString(),this.iframeElement.id="fb-survey-widget-iframe",this.iframeElement.classList.add("fb-survey-widget-iframe"),this.iframeWrapper.appendChild(this.iframeElement),this.iframeWrapper.appendChild(this.closeButton),this.widgetWrapper.appendChild(this.iframeWrapper),document.body.appendChild(this.widgetWrapper)}handleIframeMessage(e){var t,n,i;if(e.preventDefault(),e.data&&"FeaturebaseWidget"===e.data.target)switch(e.data.data.action){case"menuHeightChangedSurvey":if(this.iframeElement){if(this.heightReceivedForTheFirstTime&&this.widgetWrapper&&e.data.data.data>0){this.widgetWrapper.style.visibility="visible",this.widgetWrapper.style.opacity="1",this.heightReceivedForTheFirstTime=!1,document.documentElement.style.setProperty("--fb-survey-iframe-primary-color",null===(t=e.data.data)||void 0===t?void 0:t.primary),document.documentElement.style.setProperty("--fb-survey-iframe-foreground-color",null===(n=e.data.data)||void 0===n?void 0:n.foreground),document.documentElement.style.setProperty("--fb-survey-iframe-border-color",null===(i=e.data.data)||void 0===i?void 0:i.border);let r=this.config.context.theme;r||(r="custom"===e.data.data.theme?"dark":"client"===e.data.data.theme?"light":e.data.data.theme),this.iframeElement.style.boxShadow="dark"===r?" 0 25px 25px rgba(0, 0, 0, 0.3)":"0px 17px 17px rgba(0, 0, 0, 0.1)",this.iframeElement.style.border="dark"===r?"1px solid rgba(var(--fb-survey-iframe-primary-color), 0.5)":"1px solid #DEE1EA"}0!==this.previousHeight&&this.previousHeight!==e.data.data.data&&(this.iframeElement.style.transition="height 0.95s ease, min-height 0.95s ease, opacity 0.2s ease"),this.iframeElement.style.height=`${e.data.data.data}px`,this.iframeElement.style.minHeight=`${e.data.data.data}px`,this.previousHeight=e.data.data.data}break;case"closeSurveyWidget":this.closeWidget(e.data.data.data);break;case"openLinkOnClose":if(e.data.data.data)try{const t=new URL(e.data.data.data);if("http:"!==t.protocol&&"https:"!==t.protocol)throw new Error("Invalid URL");this.linkToOpenOnClose=t.toString()}catch(t){console.error("[Featurebase SDK] Invalid URL in link open.",e.data.data.data)}break;default:return}}setupListeners(){window.addEventListener("message",this.handleIframeMessage.bind(this),!1)}}var ui,fi=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((i=i.apply(e,t||[])).next())}))};console.log("[Featurebase SDK] Initializing SDK!");let hi=null,pi=null,gi=null,mi=null,bi=null,vi=null;const yi={state:"inactive",hasCssTargetedSurveys:!1,hasUrlTargetedSurveys:!1,surveys:[]};let wi=Object.assign({},yi),xi=null;function ki(e){xi||(xi={}),e.jwt&&(xi.jwt=e.jwt),e.email&&(xi.email=e.email),e.organization&&(xi.organization=e.organization);try{localStorage.setItem("featurebaseGlobalAuth",JSON.stringify(xi))}catch(e){console.warn("[Featurebase SDK] Error storing global auth to localStorage:",e.message)}}new Set;function _i(e,t,n){switch(e){case"identify":!function(e,t){let n;try{n=dt.parse(e)}catch(e){if(e instanceof st.ZodError)return console.error("[Featurebase SDK] Error with action: 'identify'. The Data you provided has validation errors:",e.errors),void(t&&t(e,null));throw e}ki({email:null==n?void 0:n.email,organization:null==n?void 0:n.organization});const i=function(e){const t=JSON.stringify(e);let n=0;if(0===t.length)return n.toString();for(let e=0;e<t.length;e++){n=(n<<5)-n+t.charCodeAt(e),n|=0}return n.toString()}(n),r=function(){try{const e=localStorage.getItem("featurebaseIdentifyData");if(e)return JSON.parse(e)}catch(e){}return null}();if(r&&r.hash===i&&Date.now()-r.timestamp<=Ci)return console.warn(`[Featurebase SDK] Skipping 'identify' action because the same data was sent in the last ${Ci/1e3}s.`),t&&t(null,null);Pi("https://do.featurebase.app/v1/user/identify",n).then((e=>(function(e,t){try{localStorage.setItem("featurebaseIdentifyData",JSON.stringify({hash:e,timestamp:t}))}catch(e){}}(i,Date.now()),e.customDomain?Pi(`https://${e.customDomain}/api/v1/user/identify`,n):e))).then((e=>{t&&t(null,e)})).catch((e=>{console.warn(`[Featurebase SDK] Error in 'identify' action: ${e.message}`),t&&t(e,null)}))}(t,n);break;case"initialize_changelog_widget":!function(e){try{if(null===mi){const t=jt.parse(e);mi=function(e){const t=new Mn(e);return t.initialize(),t}(t)}}catch(e){if(!(e instanceof st.ZodError))throw e;console.error("[Featurebase SDK] Error with action: 'initialize_changelog_widget'. The Data you provided has validation errors:",e.errors)}}(t);break;case"manually_open_changelog_popup":mi?mi.manuallyOpenChangelogPopup():console.warn("[Featurebase SDK] Changelog not initialized. Please call 'initialize_changelog_widget' first.");break;case"initialize_feedback_widget":!function(e){try{if(null===bi){const t=Wn.parse(e);!t.email&&(null==xi?void 0:xi.email)&&(t.email=xi.email),bi=function(e){const t=new Vn(e);return t.initialize(),t}(t),ki({email:null==t?void 0:t.email,organization:null==t?void 0:t.organization})}else(null==e?void 0:e.theme)!==bi.getWidgetTheme()&&bi.updateWidgetTheme(e.theme)}catch(e){if(!(e instanceof st.ZodError))throw e;console.error("[Featurebase SDK] Error with action: 'initialize_feedback_widget'. The Data you provided has validation errors:",e.errors)}}(t);break;case"initialize_portal_widget":!function(e){try{if(null===pi){const t=Dn.parse(e);!t.jwtToken&&(null==xi?void 0:xi.jwt)&&(t.jwtToken=xi.jwt),pi=It(t),ki({jwt:null==t?void 0:t.jwtToken,organization:null==t?void 0:t.organization})}}catch(e){if(!(e instanceof st.ZodError))throw e;console.error("[Featurebase SDK] Error with action: 'initialize_portal_widget'. The Data you provided has validation errors:",e.errors)}}(t);break;case"initialize_widget":!function(e){try{const t=Ot.parse(e);!t.jwtToken&&(null==xi?void 0:xi.jwt)&&(t.jwtToken=xi.jwt),pi=It(t)}catch(e){if(!(e instanceof st.ZodError))throw e;console.error("[Featurebase SDK] Error with action: 'initialize_widget'. The Data you provided has validation errors:",e.errors)}}(t);break;case"initialize_survey_widget":!function(e){fi(this,void 0,void 0,(function*(){try{if("error"===wi.state&&(wi=Object.assign({},yi)),"inactive"!==wi.state)return void console.warn("[Featurebase SDK] Survey widget is already initialized or initializing.");wi.state="initializing";const t=si.parse(e);!t.jwtToken&&(null==xi?void 0:xi.jwt)&&(t.jwtToken=xi.jwt),!t.email&&(null==xi?void 0:xi.email)&&(t.email=xi.email),wi.config=t,function(e){var t,n,i,r,a;fi(this,void 0,void 0,(function*(){try{let s=null===(t=wi.config)||void 0===t?void 0:t.organization;if(!s)return void console.warn("[Featurebase SDK] Tried to check for surveys, but organization not provided.");s=s.toLowerCase().trim().replace(/[^a-zA-Z0-9]/g,"");const o="production"===Ct()?new URL(`https://${s}.featurebase.app/api/v1/organization/advancedSurvey/available`):new URL(`http://${s}.localhost:3000/api/v1/organization/advancedSurvey/available`);(null===(n=wi.config)||void 0===n?void 0:n.email)&&o.searchParams.append("email",null===(i=wi.config)||void 0===i?void 0:i.email),(null===(r=wi.config)||void 0===r?void 0:r.jwtToken)&&o.searchParams.append("jwt",null===(a=wi.config)||void 0===a?void 0:a.jwtToken);const l=yield fetch(o.toString()),d=yield l.json(),c=ri.safeParse(d);if(!c.success)return void console.warn("[Featurebase SDK] Error parsing survey response. Error:",c.error);if(!c.data.success)return void console.warn(`[Featurebase SDK] Error fetching surveys: ${c.data.message}`);const u=c.data.surveys;let f=[];try{f=JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]")}catch(e){}for(const e of u)f.includes(e._id)||wi.surveys.push(e);if(e)return e(null,!0)}catch(t){if(console.error("[Featurebase SDK] Error fetching surveys:",t.message),e)return e(t,null)}}))}(((e,t)=>{if(e)return console.error("[Featurebase SDK] Error fetching surveys:",e.message),void(wi.state="error");wi.surveys&&wi.surveys.length>0&&wi.surveys.some((e=>e.targeting&&e.targeting.url&&e.targeting.url.length>0))&&(wi.hasUrlTargetedSurveys=!0),wi.surveys&&wi.surveys.length>0&&wi.surveys.some((e=>e.targeting&&e.targeting.css&&e.targeting.css.length>0))&&(wi.hasCssTargetedSurveys=!0),wi.state="initialized",function(){Ti&&clearInterval(Ti);Ti=setInterval((()=>{var e;if(!(null===(e=wi.config)||void 0===e?void 0:e.organization))return;if(document.querySelector(".fb-survey-widget-wrapper"))return;if("initialized"!==wi.state||wi.surveys&&0===wi.surveys.length)return;if(wi.hasUrlTargetedSurveys){const e=wi.surveys.filter((e=>e.targeting&&e.targeting.url&&e.targeting.url.length>0)).sort(((e,t)=>{var n,i,r,a;return(null===(n=e.targeting)||void 0===n?void 0:n.segmentIds)&&(null===(i=e.targeting)||void 0===i?void 0:i.segmentIds.length)>0?-1:(null===(r=t.targeting)||void 0===r?void 0:r.segmentIds)&&(null===(a=t.targeting)||void 0===a?void 0:a.segmentIds.length)>0?1:0})),t=window.location.href;for(const n of e)if(n.targeting&&n.targeting.url)for(const e of n.targeting.url){const{value:i,matchType:r}=e,a=Si(n).success;if("exact"===r){if(i.trim().toLowerCase().replace(/\/$/,"")===t.trim().toLowerCase().replace(/\/$/,"")&&a)return void Ei(n,wi.config)}else if("contains"===r&&a){if(t.includes(i))return void Ei(n,wi.config)}else if("regex"===r&&a)try{if(new RegExp(i).test(t))return void Ei(n,wi.config)}catch(e){console.error(`[Featurebase SDK] Could not show survey "${n.title}". Invalid survey targeting regex provided:`,e),wi.surveys=wi.surveys.filter((e=>e._id!==n._id))}}}if(wi.hasCssTargetedSurveys){const e=wi.surveys.filter((e=>e.targeting&&e.targeting.css&&e.targeting.css.length>0)).sort(((e,t)=>{var n,i,r,a;return(null===(n=e.targeting)||void 0===n?void 0:n.segmentIds)&&(null===(i=e.targeting)||void 0===i?void 0:i.segmentIds.length)>0?-1:(null===(r=t.targeting)||void 0===r?void 0:r.segmentIds)&&(null===(a=t.targeting)||void 0===a?void 0:a.segmentIds.length)>0?1:0}));if(e&&e.length>0)for(const t of e){if(!t.targeting||!t.targeting.css||0===t.targeting.css.length)continue;if(!Si(t).success)continue;const e=t.targeting.css.map((e=>e.value));for(const n of e)try{if(document.querySelectorAll(n).length>0)return void Ei(t,wi.config)}catch(e){console.error(`[Featurebase SDK] Could not show survey "${t.title}". Invalid survey targeting CSS selector provided:`,e),wi.surveys=wi.surveys.filter((e=>e._id!==t._id))}}}const t=wi.surveys.filter((e=>!(e.targeting&&e.targeting.css&&e.targeting.css.length>0)&&!(e.targeting&&e.targeting.url&&e.targeting.url.length>0))).sort(((e,t)=>{var n,i,r,a;return(null===(n=e.targeting)||void 0===n?void 0:n.segmentIds)&&(null===(i=e.targeting)||void 0===i?void 0:i.segmentIds.length)>0?-1:(null===(r=t.targeting)||void 0===r?void 0:r.segmentIds)&&(null===(a=t.targeting)||void 0===a?void 0:a.segmentIds.length)>0?1:0}));for(const e of t){if(Si(e).success)return void Ei(e,wi.config)}}),5e3)}()}))}catch(e){if(wi.state="error",!(e instanceof st.ZodError))throw e;console.error("[Featurebase SDK] Error with action: 'initialize_survey_widget'. The Data you provided has validation errors:",e.errors)}}))}(t);break;case"open_widget":if(!pi)return void console.warn("[Featurebase SDK] Widget is not initialized. Please call 'initialize_widget' first.");pi.openWidget();break;case"close_widget":null==pi||pi.closeWidget();break;case"toggle_widget":null==pi||pi.toggleWidget();break;case"initialize_popup":hi=function(e){const t=new Et(e);return t.initialize(),t}(t);break;case"open_popup":!function(e){if(!e||!e.submissionId)return void console.warn("[Featurebase SDK] You need to provide a submissionId to open the popup.");if(!hi)return void console.warn("[Featurebase SDK] You need to initialize the popup before opening it. Use the `initialize_popup` action.");hi.activeSubmissionId=e.submissionId,null==hi||hi.openPopup()}(t);break;case"close_popup":null==hi||hi.closePopup();break;case"toggle_popup":null==hi||hi.togglePopup();break;case"init_screenshot":if(gi)return void gi.activate();Promise.all([r.e(682),r.e(92),r.e(154)]).then(r.bind(r,313)).then((e=>{gi=new e.default,null==gi||gi.activate()})).catch((e=>console.error("Error loading screenshot module:",e)));break;case"open_screenshot":null==gi||gi.toggleVisibility(!0);break;case"take_screenshot":null==gi||gi.captureScreenshot();break;case"close_screenshot":null==gi||gi.toggleVisibility(!1);break;case"embed":!function(e){try{if(!document.querySelector("#featurebase-embed-board")){const t=qn.parse(e);!t.jwtToken&&(null==xi?void 0:xi.jwt)&&(t.jwtToken=xi.jwt),function(e){vi=new Hn(e),vi.initialize()}(t),ki({jwt:null==t?void 0:t.jwtToken,organization:null==t?void 0:t.organization})}}catch(e){if(!(e instanceof st.ZodError))throw e;console.error("[Featurebase SDK] Error with action: 'embed'. The Data you provided has validation errors:",e.errors)}}(t);break;default:if(!e)return void console.warn("[Featurebase SDK] Action is missing.");console.warn(`[Featurebase SDK] Action ${e} is not supported.`)}}function Ei(e,t){return fi(this,void 0,void 0,(function*(){!t.email&&(null==xi?void 0:xi.email)&&(t.email=xi.email),!t.jwtToken&&(null==xi?void 0:xi.jwt)&&(t.jwtToken=xi.jwt),!t.organization&&(null==xi?void 0:xi.organization)&&(t.organization=xi.organization),function(e,t){var n;const i=oi.safeParse(e);if(!i.success)throw new Error("[Featurebase SDK] Invalid survey widget config. Error: "+(null===(n=i.error)||void 0===n?void 0:n.message));const r=new ci(e);r.initialize(),t&&(r.surveyCloseCallback=t)}({context:t,survey:e},(()=>{wi.surveys=wi.surveys.filter((t=>t._id!==e._id))}))}))}const Si=e=>{var t,n,i,r;if(!(null===(t=null==wi?void 0:wi.config)||void 0===t?void 0:t.organization))return{success:!1,error:"Organization not provided"};if(!e.isActive)return{success:!1,error:"Survey is not active"};if((null===(n=e.targeting)||void 0===n?void 0:n.loginRequired)&&!(null===(i=wi.config)||void 0===i?void 0:i.email)&&!(null==xi?void 0:xi.email)&&!(null===(r=null==wi?void 0:wi.config)||void 0===r?void 0:r.jwtToken)&&(null==xi?void 0:xi.jwt))return{success:!1,error:"Login required"};let a=[];try{a=JSON.parse(localStorage.getItem("featurebaseRespondedSurveys")||"[]")}catch(e){}return a.includes(e._id)?{success:!1,error:"Survey already responded"}:{success:!0}};let Ti=null;const Ci=3e4;function Pi(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}).then((e=>{if(!e.ok)throw new Error(`[Featurebase SDK] HTTP error! status: ${e.status}`);return e.json()})).then((e=>{if(!e.success)throw new Error("[Featurebase SDK] Server responded with success: false");return e.loggedInAsAdmin?console.warn("[Featurebase SDK] Authentication skipped: User is currently logged in with admin privileges. Please log out of the admin account to authenticate as a regular user."):e.adminOfOtherOrg&&console.warn("[Featurebase SDK] Authentication skipped: For security, we don't auto-login users with admin roles in any org. You can test the auto-login feature by using the data of a normal user."),e}))}const Ii=(null===(ui=window.Featurebase)||void 0===ui?void 0:ui.q)||[];for(let e=0;e<Ii.length;e++){const t=Ii[e];_i.apply(null,t)}const Oi=window;Oi.Featurebase||(Oi.Featurebase={}),Oi.Featurebase.q=[],Oi.Featurebase=_i,function(){try{const e=localStorage.getItem("featurebaseGlobalAuth");e&&(xi=JSON.parse(e))}catch(e){console.warn("[Featurebase SDK] Error accessing localStorage for global auth:",e.message)}}()})(),a})()));